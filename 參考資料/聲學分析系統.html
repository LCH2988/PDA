<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>帕金森病語音聲學分析評估系統</title>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    body {
        font-family: 'Microsoft JhengHei', 'Segoe UI', Arial, sans-serif;
        font-size: 16px;
        line-height: 1.6;
        color: #2d3748;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
    }
    
    .container {
        max-width: 1400px;
        margin: 0 auto;
    }
    
    .header {
        background: white;
        padding: 30px;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        margin-bottom: 30px;
        text-align: center;
    }
    
    .header h1 {
        color: #4a5568;
        font-size: 2.5em;
        margin-bottom: 10px;
        font-weight: 700;
    }
    
    .header .subtitle {
        color: #718096;
        font-size: 1.2em;
        font-weight: 500;
    }
    
    .section-card {
        background: white;
        border-radius: 20px;
        padding: 30px;
        margin-bottom: 25px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }
    
    .section-title {
        color: #667eea;
        font-size: 2em;
        margin-bottom: 20px;
        font-weight: 700;
        border-left: 5px solid #667eea;
        padding-left: 15px;
    }
    
    .parameter-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 20px;
        margin-top: 20px;
    }
    
    .parameter-card {
        background: linear-gradient(135deg, #f8f9ff 0%, #eef0ff 100%);
        border: 2px solid #667eea;
        border-radius: 15px;
        padding: 20px;
        transition: all 0.3s ease;
    }
    
    .parameter-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(102, 126, 234, 0.2);
    }
    
    .parameter-name {
        font-size: 1.4em;
        color: #667eea;
        font-weight: 700;
        margin-bottom: 10px;
    }
    
    .parameter-english {
        font-size: 0.9em;
        color: #718096;
        margin-bottom: 15px;
        font-style: italic;
    }
    
    .parameter-description {
        color: #4a5568;
        margin-bottom: 15px;
        line-height: 1.8;
    }
    
    .range-table {
        width: 100%;
        margin-top: 15px;
        border-collapse: collapse;
    }
    
    .range-table th {
        background: #667eea;
        color: white;
        padding: 10px;
        text-align: left;
        font-weight: 600;
    }
    
    .range-table td {
        padding: 10px;
        border-bottom: 1px solid #e2e8f0;
    }
    
    .range-table tr:last-child td {
        border-bottom: none;
    }
    
    .status-excellent { color: #38a169; font-weight: 700; }
    .status-good { color: #3182ce; font-weight: 700; }
    .status-fair { color: #d69e2e; font-weight: 700; }
    .status-poor { color: #e53e3e; font-weight: 700; }
    
    .scoring-system {
        background: linear-gradient(135deg, #fff5f5 0%, #fed7d7 100%);
        border: 3px solid #fc8181;
        border-radius: 15px;
        padding: 25px;
        margin-top: 20px;
    }
    
    .scoring-title {
        font-size: 1.5em;
        color: #c53030;
        font-weight: 700;
        margin-bottom: 15px;
    }
    
    .score-table {
        width: 100%;
        background: white;
        border-radius: 10px;
        overflow: hidden;
        margin-top: 15px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .score-table th {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 15px;
        text-align: center;
        font-weight: 700;
    }
    
    .score-table td {
        padding: 12px;
        text-align: center;
        border-bottom: 1px solid #e2e8f0;
    }
    
    .score-table tr:hover {
        background: #f7fafc;
    }
    
    .total-score-card {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 15px;
        padding: 30px;
        text-align: center;
        margin-top: 20px;
        box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
    }
    
    .total-score-number {
        font-size: 4em;
        font-weight: 700;
        margin: 20px 0;
    }
    
    .interpretation-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
gap: 15px;
          margin-top: 20px;
      }
      
      .interpretation-card {
          background: white;
          color: #2d3748;
          border-radius: 10px;
          padding: 20px;
          text-align: center;
      }
      
      .interpretation-score {
          font-size: 1.8em;
          font-weight: 700;
          margin-bottom: 10px;
      }
      
      .interpretation-label {
          font-size: 1.1em;
          font-weight: 600;
      }
      
      .calculator-section {
          background: linear-gradient(135deg, #e6fffa 0%, #b2f5ea 100%);
          border: 3px solid #38b2ac;
          border-radius: 15px;
          padding: 25px;
          margin-top: 30px;
      }
      
      .input-group {
          margin-bottom: 20px;
      }
      
      .input-label {
          display: block;
          font-weight: 700;
          color: #2c7a7b;
          margin-bottom: 8px;
          font-size: 1.1em;
      }
      
      .input-field {
          width: 100%;
          padding: 12px;
          border: 2px solid #38b2ac;
          border-radius: 8px;
          font-size: 1.1em;
          transition: all 0.3s ease;
      }
      
      .input-field:focus {
          outline: none;
          border-color: #2c7a7b;
          box-shadow: 0 0 0 3px rgba(56, 178, 172, 0.1);
      }
      
      .calculate-btn {
          background: linear-gradient(135deg, #38b2ac 0%, #2c7a7b 100%);
          color: white;
          border: none;
          padding: 15px 40px;
          font-size: 1.2em;
          font-weight: 700;
          border-radius: 10px;
          cursor: pointer;
          width: 100%;
          transition: all 0.3s ease;
          margin-top: 10px;
      }
      
      .calculate-btn:hover {
          transform: translateY(-2px);
          box-shadow: 0 10px 20px rgba(56, 178, 172, 0.3);
      }
      
      .result-display {
          background: white;
          border-radius: 15px;
          padding: 30px;
          margin-top: 20px;
          display: none;
      }
      
      .result-display.show {
          display: block;
          animation: slideIn 0.5s ease;
      }
      
      @keyframes slideIn {
          from {
              opacity: 0;
              transform: translateY(20px);
          }
          to {
              opacity: 1;
              transform: translateY(0);
          }
      }
      
      .result-score {
          font-size: 3em;
          font-weight: 700;
          text-align: center;
          margin: 20px 0;
          color: #667eea;
      }
      
      .result-interpretation {
          text-align: center;
          font-size: 1.5em;
          font-weight: 600;
          margin-bottom: 20px;
      }
      
      .detail-breakdown {
          margin-top: 20px;
      }
      
      .breakdown-item {
          display: flex;
          justify-content: space-between;
          padding: 12px;
          border-bottom: 1px solid #e2e8f0;
          font-size: 1.1em;
      }
      
      .breakdown-item:last-child {
          border-bottom: none;
          font-weight: 700;
          font-size: 1.3em;
          background: #f7fafc;
          border-radius: 8px;
      }
      
      .reference-section {
          background: #f7fafc;
          border-left: 5px solid #4299e1;
          padding: 20px;
          margin-top: 20px;
          border-radius: 8px;
      }
      
      .reference-title {
          font-size: 1.3em;
          color: #2b6cb0;
          font-weight: 700;
          margin-bottom: 10px;
      }
      
      .reference-list {
          list-style: none;
          padding-left: 0;
      }
      
      .reference-list li {
          padding: 8px 0;
          color: #4a5568;
          line-height: 1.8;
      }
      
      .reference-list li:before {
          content: "📚 ";
          margin-right: 8px;
      }
      
      @media (max-width: 768px) {
          .parameter-grid {
              grid-template-columns: 1fr;
          }
          
          .header h1 {
              font-size: 1.8em;
          }
          
          .section-title {
              font-size: 1.5em;
          }
      }
  </style>
  </head>
  <body>
  <div class="container">
      <div class="header">
          <h1>🎤 帕金森病語音聲學分析評估系統</h1>
          <div class="subtitle">專業評估依據與總量評分表</div>
      </div>
      
      <!-- 評估參數說明 -->
      <div class="section-card">
          <h2 class="section-title">📊 聲學參數評估依據</h2>
          
          <div class="parameter-grid">
              <!-- 基頻 F0 -->
              <div class="parameter-card">
                  <div class="parameter-name">1️⃣ 基頻 (F0)</div>
                  <div class="parameter-english">Fundamental Frequency</div>
                  <div class="parameter-description">
                      <strong>定義：</strong>聲帶振動的基本頻率，反映音高。<br>
                      <strong>臨床意義：</strong>帕金森病患者常出現音調單一、音高降低的現象。
                  </div>
                  <table class="range-table">
                      <tr>
                          <th>性別</th>
                          <th>正常範圍</th>
                          <th>評分標準</th>
                      </tr>
                      <tr>
                          <td>男性</td>
                          <td>85-180 Hz</td>
                          <td class="status-excellent">10分：100-150 Hz</td>
                      </tr>
                      <tr>
                          <td>女性</td>
                          <td>165-255 Hz</td>
                          <td class="status-good">7分：85-100或150-180 Hz</td>
                      </tr>
                      <tr>
                          <td colspan="2">異常範圍</td>
                          <td class="status-poor">3分：<85或>255 Hz</td>
                      </tr>
                  </table>
              </div>
              
              <!-- 音量強度 -->
              <div class="parameter-card">
                  <div class="parameter-name">2️⃣ 音量強度</div>
                  <div class="parameter-english">Sound Intensity</div>
                  <div class="parameter-description">
                      <strong>定義：</strong>聲音的響度，以分貝(dB)表示。<br>
                      <strong>臨床意義：</strong>帕金森病患者常出現音量減弱（低語症）。
                  </div>
                  <table class="range-table">
                      <tr>
                          <th>範圍</th>
                          <th>評估</th>
                          <th>評分</th>
                      </tr>
                      <tr>
                          <td>65-75 dB</td>
                          <td class="status-excellent">優秀（正常對話音量）</td>
                          <td>10分</td>
                      </tr>
                      <tr>
                          <td>60-64 dB</td>
                          <td class="status-good">良好（稍弱但可接受）</td>
                          <td>7分</td>
                      </tr>
                      <tr>
                          <td>55-59 dB</td>
                          <td class="status-fair">尚可（明顯偏低）</td>
                          <td>5分</td>
                      </tr>
                      <tr>
                          <td><55 dB</td>
                          <td class="status-poor">不佳（嚴重低語症）</td>
                          <td>2分</td>
                      </tr>
                  </table>
              </div>
              
              <!-- HNR 諧噪比 -->
              <div class="parameter-card">
                  <div class="parameter-name">3️⃣ HNR 諧噪比</div>
                  <div class="parameter-english">Harmonics-to-Noise Ratio</div>
                  <div class="parameter-description">
                      <strong>定義：</strong>諧波能量與噪音能量的比值，反映聲音清晰度。<br>
                      <strong>臨床意義：</strong>數值越高表示聲音越清晰，帕金森病患者常降低。
                  </div>
                  <table class="range-table">
                      <tr>
                          <th>範圍 (dB)</th>
                          <th>評估</th>
                          <th>評分</th>
                      </tr>
                      <tr>
                          <td>≥20</td>
                          <td class="status-excellent">優秀（聲音清晰）</td>
                          <td>15分</td>
                      </tr>
                      <tr>
                          <td>15-19.9</td>
                          <td class="status-good">良好（輕微氣息聲）</td>
                          <td>12分</td>
                      </tr>
                      <tr>
                          <td>10-14.9</td>
                          <td class="status-fair">尚可（明顯氣息聲）</td>
                          <td>8分</td>
                      </tr>
                      <tr>
                          <td><10</td>
                          <td class="status-poor">不佳（嚴重嘶啞）</td>
                          <td>4分</td>
                      </tr>
                  </table>
              </div>
              
              <!-- Jitter -->
              <div class="parameter-card">
                  <div class="parameter-name">4️⃣ Jitter (頻率微擾)</div>
                  <div class="parameter-english">Frequency Perturbation</div>
                  <div class="parameter-description">
                      <strong>定義：</strong>相鄰週期間頻率變化的百分比，反映聲帶振動穩定性。<br>
                      <strong>臨床意義：</strong>數值越低越好，帕金森病患者常升高。
                  </div>
                  <table class="range-table">
                      <tr>
                          <th>範圍 (%)</th>
                          <th>評估</th>
                          <th>評分</th>
                      </tr>
                      <tr>
                          <td>≤0.5</td>
                          <td class="status-excellent">優秀（極佳穩定性）</td>
                          <td>15分</td>
                      </tr>
                      <tr>
                          <td>0.51-1.04</td>
                          <td class="status-good">良好（正常範圍）</td>
                          <td>12分</td>
                      </tr>
                      <tr>
                          <td>1.05-2.0</td>
                          <td class="status-fair">尚可（輕度不穩定）</td>
                          <td>8分</td>
                      </tr>
                      <tr>
                          <td>>2.0</td>
                          <td class="status-poor">不佳（嚴重不穩定）</td>
                          <td>4分</td>
                      </tr>
                  </table>
              </div>
              
              <!-- Shimmer -->
              <div class="parameter-card">
                  <div class="parameter-name">5️⃣ Shimmer (振幅微擾)</div>
                  <div class="parameter-english">Amplitude Perturbation</div>
                  <div class="parameter-description">
                      <strong>定義：</strong>相鄰週期間振幅變化的百分比，反映音量穩定性。<br>
                      <strong>臨床意義：</strong>數值越低越好，帕金森病患者常升高。
                  </div>
                  <table class="range-table">
                      <tr>
                          <th>範圍 (%)</th>
                          <th>評估</th>
                          <th>評分</th>
                      </tr>
                      <tr>
                          <td>≤2.0</td>
                          <td class="status-excellent">優秀（極佳穩定性）</td>
                          <td>15分</td>
                      </tr>
                      <tr>
                          <td>2.01-3.81</td>
                          <td class="status-good">良好（正常範圍）</td>
                          <td>12分</td>
                      </tr>
                      <tr>
                          <td>3.82-6.0</td>
                          <td class="status-fair">尚可（輕度不穩定）</td>
                          <td>8分</td>
                      </tr>
                      <tr>
                          <td>>6.0</td>
                          <td class="status-poor">不佳（嚴重不穩定）</td>
                          <td>4分</td>
                      </tr>
                  </table>
              </div>
              
              <!-- 共振峰 F1 -->
              <div class="parameter-card">
                  <div class="parameter-name">6️⃣ 第一共振峰 (F1)</div>
                  <div class="parameter-english">First Formant</div>
                  <div class="parameter-description">
                      <strong>定義：</strong>與舌位高低相關的共振頻率。<br>
                      <strong>臨床意義：</strong>反映構音清晰度，帕金森病患者常出現共振峰集中現象。
                  </div>
                  <table class="range-table">
                      <tr>
                          <th>元音</th>
                          <th>正常範圍 (Hz)</th>
                          <th>評分標準</th>
                      </tr>
                      <tr>
                          <td>/a/</td>
                          <td>600-900</td>
                          <td class="status-excellent">10分：正常範圍內</td>
                      </tr>
                      <tr>
                          <td>/i/</td>
                          <td>200-400</td>
                          <td class="status-fair">5分：偏離±20%</td>
                      </tr>
                      <tr>
                          <td>/u/</td>
                          <td>250-450</td>
                          <td class="status-poor">2分：偏離>30%</td>
                      </tr>
                  </table>
              </div>
              
              <!-- 共振峰 F2 -->
              <div class="parameter-card">
                  <div class="parameter-name">7️⃣ 第二共振峰 (F2)</div>
                  <div class="parameter-english">Second Formant</div>
                  <div class="parameter-description">
                      <strong>定義：</strong>與舌位前後相關的共振頻率。<br>
                      <strong>臨床意義：</strong>F2變化範圍縮小表示構音運動受限。
                  </div>
                  <table class="range-table">
                      <tr>
                          <th>元音</th>
                          <th>正常範圍 (Hz)</th>
                          <th>評分標準</th>
                      </tr>
                      <tr>
                          <td>/a/</td>
                          <td>1000-1400</td>
                          <td class="status-excellent">10分：正常範圍內</td>
                      </tr>
                      <tr>
                          <td>/i/</td>
                          <td>2000-3000</td>
                          <td class="status-fair">5分：偏離±20%</td>
                      </tr>
                      <tr>
                          <td>/u/</td>
                          <td>600-1000</td>
                          <td class="status-poor">2分：偏離>30%</td>
                      </tr>
                  </table>
              </div>
              
              <!-- 語速 -->
              <div class="parameter-card">
                  <div class="parameter-name">8️⃣ 語速</div>
                  <div class="parameter-english">Speech Rate</div>
                  <div class="parameter-description">
                      <strong>定義：</strong>每分鐘說話的音節數或字數。<br>
                      <strong>臨床意義：</strong>帕金森病患者可能過快（急促症）或過慢。
                  </div>
                  <table class="range-table">
                      <tr>
                          <th>範圍 (音節/分)</th>
                          <th>評估</th>
                          <th>評分</th>
                      </tr>
                      <tr>
                          <td>180-220</td>
                          <td class="status-excellent">優秀（正常語速）</td>
                          <td>10分</td>
                      </tr>
                      <tr>
                          <td>150-179 或 221-250</td>
                          <td class="status-good">良好（稍慢或稍快）</td>
                          <td>7分</td>
                      </tr>
                      <tr>
                          <td>120-149 或 251-280</td>
                          <td class="status-fair">尚可（明顯異常）</td>
                          <td>4分</td>
                      </tr>
                      <tr>
                          <td><120 或 >280</td>
                          <td class="status-poor">不佳（嚴重異常）</td>
                          <td>2分</td>
                      </tr>
                  </table>
              </div>
          </div>
      </div>
      
      <!-- 總量評分系統 -->
      <div class="section-card">
          <h2 class="section-title">🎯 總量評分系統</h2>
          
          <div class="scoring-system">
              <div class="scoring-title">📋 評分項目與配分</div>
              
              <table class="score-table">
                  <thead>
                      <tr>
                          <th style="width: 5%;">序號</th>
                          <th style="width: 25%;">評估項目</th>
                          <th style="width: 15%;">滿分</th>
                          <th style="width: 20%;">權重</th>
                          <th style="width: 35%;">評分重點</th>
                      </tr>
                  </thead>
                  <tbody>
                      <tr>
                          <td>1</td>
                          <td><strong>基頻 F0</strong></td>
                          <td>10分</td>
                          <td>10%</td>
                          <td>音高正常性</td>
                      </tr>
                      <tr>
                          <td>2</td>
                          <td><strong>音量強度</strong></td>
                          <td>10分</td>
                          <td>10%</td>
                          <td>響度充足性</td>
                      </tr>
                      <tr>
                          <td>3</td>
                          <td><strong>HNR 諧噪比</strong></td>
                          <td>15分</td>
                          <td>15%</td>
                          <td>聲音清晰度（重要）</td>
                      </tr>
                      <tr>
                          <td>4</td>
                          <td><strong>Jitter 頻率微擾</strong></td>
                          <td>15分</td>
                          <td>15%</td>
                          <td>頻率穩定性（重要）</td>
                      </tr>
                      <tr>
                          <td>5</td>
                          <td><strong>Shimmer 振幅微擾</strong></td>
                          <td>15分</td>
                          <td>15%</td>
                          <td>振幅穩定性（重要）</td>
                      </tr>
                      <tr>
                          <td>6</td>
                          <td><strong>第一共振峰 F1</strong></td>
                          <td>10分</td>
                          <td>10%</td>
                          <td>構音準確性</td>
                      </tr>
                      <tr>
                          <td>7</td>
                          <td><strong>第二共振峰 F2</strong></td>
                          <td>10分</td>
                          <td>10%</td>
                          <td>構音清晰度</td>
                      </tr>
                      <tr>
                          <td>8</td>
                          <td><strong>語速</strong></td>
                          <td>10分</td>
                          <td>10%</td>
                          <td>說話流暢性</td>
                      </tr>
                      <tr>
                          <td>9</td>
                          <td><strong>停頓模式</strong></td>
                          <td>5分</td>
                          <td>5%</td>
                          <td>韻律自然性</td>
                      </tr>
                      <tr style="background: #f7fafc; font-weight: 700;">
                          <td colspan="2"><strong>總分</strong></td>
                          <td><strong>100分</strong></td>
                          <td><strong>100%</strong></td>
                          <td><strong>綜合語音品質</strong></td>
                      </tr>
                  </tbody>
              </table>
          </div>
          
          <div class="total-score-card">
              <h3 style="font-size: 1.8em; margin-bottom: 10px;">總分解讀標準</h3>
              <div class="interpretation-grid">
                  <div class="interpretation-card">
                      <div class="interpretation-score" style="color: #38a169;">90-100分</div>
                      <div class="interpretation-label">優秀</div>
                      <p style="margin-top: 10px; font-size: 0.9em;">語音功能正常或接近正常</p>
                  </div>
                  <div class="interpretation-card">
                      <div class="interpretation-score" style="color: #3182ce;">75-89分</div>
                      <div class="interpretation-label">良好</div>
                      <p style="margin-top: 10px; font-size: 0.9em;">輕度語音障礙，日常溝通無礙</p>
                  </div>
                  <div class="interpretation-card">
                      <div class="interpretation-score" style="color: #d69e2e;">60-74分</div>
                      <div class="interpretation-label">尚可</div>
                      <p style="margin-top: 10px; font-size: 0.9em;">中度語音障礙，需持續訓練</p>
                  </div>
                  <div class="interpretation-card">
                      <div class="interpretation-score" style="color: #e53e3e;">< 60分</div>
                      <div class="interpretation-label">需加強</div>
                      <p style="margin-top: 10px; font-size: 0.9em;">重度語音障礙，需密集治療</p>
                  </div>
              </div>
          </div>
      </div>
      
      <!-- 智能評分計算器 -->
      <div class="section-card">
          <h2 class="section-title">🧮 智能評分計算器</h2>
          
          <div class="calculator-section">
              <h3 style="color: #2c7a7b; font-size: 1.5em; margin-bottom: 20px; text-align: center;">
                  請輸入各項聲學參數數值
              </h3>
              
              <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                  <div class="input-group">
                      <label class="input-label">1. 基頻 F0 (Hz)</label>
                      <input type="number" id="f0Input" class="input-field" placeholder="例如：120" step="0.1">
                      <small style="color: #718096;">男性：85-180 Hz｜女性：165-255 Hz</small>
                  </div>
                  
                  <div class="input-group">
                      <label class="input-label">2. 音量強度 (dB)</label>
                      <input type="number" id="intensityInput" class="input-field" placeholder="例如：65" step="0.1">
                      <small style="color: #718096;">正常範圍：55-75 dB</small>
                  </div>
                  
                  <div class="input-group">
                      <label class="input-label">3. HNR 諧噪比 (dB)</label>
                      <input type="number" id="hnrInput" class="input-field" placeholder="例如：18" step="0.1">
                      <small style="color: #718096;">正常範圍：≥15 dB</small>
                  </div>
                  
                  <div class="input-group">
                      <label class="input-label">4. Jitter (%)</label>
                      <input type="number" id="jitterInput" class="input-field" placeholder="例如：0.8" step="0.01">
                      <small style="color: #718096;">正常範圍：≤1.04%</small>
                  </div>
                  
                  <div class="input-group">
                      <label class="input-label">5. Shimmer (%)</label>
                      <input type="number" id="shimmerInput" class="input-field" placeholder="例如：3.2" step="0.01">
                      <small style="color: #718096;">正常範圍：≤3.81%</small>
                  </div>
                  
                  <div class="input-group">
                      <label class="input-label">6. 第一共振峰 F1 (Hz)</label>
                      <input type="number" id="f1Input" class="input-field" placeholder="例如：700" step="1">
                      <small style="color: #718096;">/a/ 音：600-900 Hz</small>
                  </div>
                  
                  <div class="input-group">
                      <label class="input-label">7. 第二共振峰 F2 (Hz)</label>
                      <input type="number" id="f2Input" class="input-field" placeholder="例如：1200" step="1">
                      <small style="color: #718096;">/a/ 音：1000-1400 Hz</small>
                  </div>
                  
                  <div class="input-group">
                      <label class="input-label">8. 語速 (音節/分鐘)</label>
                      <input type="number" id="speechRateInput" class="input-field" placeholder="例如：200" step="1">
                      <small style="color: #718096;">正常範圍：180-220 音節/分</small>
                  </div>
              </div>
              
              <div class="input-group">
                  <label class="input-label">9. 停頓模式評估</label>
                  <select id="pauseInput" class="input-field">
                      <option value="">請選擇...</option>
                      <option value="5">優秀 - 停頓自然適當 (5分)</option>
                      <option value="4">良好 - 停頓大致正常 (4分)</option>
                      <option value="3">尚可 - 停頓稍有異常 (3分)</option>
                      <option value="2">不佳 - 停頓明顯異常 (2分)</option>
                  </select>
              </div>
              
              <button class="calculate-btn" onclick="calculateScore()">
                  🎯 計算總分
              </button>
          </div>
          
          <div id="resultDisplay" class="result-display">
<div class="result-score" id="totalScore">0</div>
              <div class="result-interpretation" id="interpretation"></div>
              
              <div class="detail-breakdown">
                  <h4 style="color: #667eea; font-size: 1.3em; margin-bottom: 15px;">📊 詳細評分明細</h4>
                  <div class="breakdown-item">
                      <span>基頻 F0</span>
                      <span id="f0Score">-</span>
                  </div>
                  <div class="breakdown-item">
                      <span>音量強度</span>
                      <span id="intensityScore">-</span>
                  </div>
                  <div class="breakdown-item">
                      <span>HNR 諧噪比</span>
                      <span id="hnrScore">-</span>
                  </div>
                  <div class="breakdown-item">
                      <span>Jitter 頻率微擾</span>
                      <span id="jitterScore">-</span>
                  </div>
                  <div class="breakdown-item">
                      <span>Shimmer 振幅微擾</span>
                      <span id="shimmerScore">-</span>
                  </div>
                  <div class="breakdown-item">
                      <span>第一共振峰 F1</span>
                      <span id="f1Score">-</span>
                  </div>
                  <div class="breakdown-item">
                      <span>第二共振峰 F2</span>
                      <span id="f2Score">-</span>
                  </div>
                  <div class="breakdown-item">
                      <span>語速</span>
                      <span id="speechRateScore">-</span>
                  </div>
                  <div class="breakdown-item">
                      <span>停頓模式</span>
                      <span id="pauseScore">-</span>
                  </div>
                  <div class="breakdown-item">
                      <span>總分</span>
                      <span id="totalScoreDetail">-</span>
                  </div>
              </div>
              
              <div style="margin-top: 20px; padding: 20px; background: #f7fafc; border-radius: 10px;">
                  <h4 style="color: #667eea; margin-bottom: 10px;">💡 建議</h4>
                  <div id="recommendations" style="color: #4a5568; line-height: 1.8;"></div>
              </div>
          </div>
      </div>
      
      <!-- 參考文獻 -->
      <div class="section-card">
          <h2 class="section-title">📚 評估依據與參考文獻</h2>
          
          <div class="reference-section">
              <div class="reference-title">臨床研究基礎</div>
              <ul class="reference-list">
                  <li>Little, M. A., et al. (2009). "Exploiting Nonlinear Recurrence and Fractal Scaling Properties for Voice Disorder Detection." <em>BioMedical Engineering OnLine</em>, 8:30.</li>
                  <li>Tsanas, A., et al. (2012). "Novel speech signal processing algorithms for high-accuracy classification of Parkinson's disease." <em>IEEE Transactions on Biomedical Engineering</em>, 59(5), 1264-1271.</li>
                  <li>Rusz, J., et al. (2011). "Quantitative acoustic measurements for characterization of speech and voice disorders in early untreated Parkinson's disease." <em>Journal of the Acoustical Society of America</em>, 129(1), 350-367.</li>
                  <li>Skodda, S., et al. (2011). "Progression of voice and speech impairment in the course of Parkinson's disease: a longitudinal study." <em>Parkinson's Disease</em>, 2011:389195.</li>
              </ul>
          </div>
          
          <div class="reference-section" style="margin-top: 20px;">
              <div class="reference-title">評分系統設計原則</div>
              <ul class="reference-list">
                  <li><strong>多維度評估：</strong>涵蓋音高、音量、音質、穩定性、構音等多個面向</li>
                  <li><strong>權重分配：</strong>HNR、Jitter、Shimmer 為核心指標（各15分），反映帕金森病語音障礙特徵</li>
                  <li><strong>臨床相關性：</strong>評分標準基於大規模臨床研究數據</li>
                  <li><strong>實用性：</strong>便於追蹤治療效果和疾病進展</li>
              </ul>
          </div>
          
          <div class="reference-section" style="margin-top: 20px;">
              <div class="reference-title">使用注意事項</div>
              <ul class="reference-list">
                  <li>⚠️ 本評分系統僅供參考，不能替代專業醫療診斷</li>
                  <li>⚠️ 建議定期（每2-4週）進行評估，追蹤變化趨勢</li>
                  <li>⚠️ 錄音環境應保持安靜，使用相同設備以確保數據可比性</li>
                  <li>⚠️ 評估時應在藥物效果最佳時段（ON狀態）進行</li>
                  <li>⚠️ 如有疑問或分數持續下降，請諮詢語言治療師或神經科醫師</li>
              </ul>
          </div>
      </div>
  </div>
  
  <script>
  function calculateScore() {
      // 獲取輸入值
      const f0 = parseFloat(document.getElementById('f0Input').value);
      const intensity = parseFloat(document.getElementById('intensityInput').value);
      const hnr = parseFloat(document.getElementById('hnrInput').value);
      const jitter = parseFloat(document.getElementById('jitterInput').value);
      const shimmer = parseFloat(document.getElementById('shimmerInput').value);
      const f1 = parseFloat(document.getElementById('f1Input').value);
      const f2 = parseFloat(document.getElementById('f2Input').value);
      const speechRate = parseFloat(document.getElementById('speechRateInput').value);
      const pause = parseFloat(document.getElementById('pauseInput').value);
      
      // 驗證輸入
      if (isNaN(f0) || isNaN(intensity) || isNaN(hnr) || isNaN(jitter) || 
          isNaN(shimmer) || isNaN(f1) || isNaN(f2) || isNaN(speechRate) || isNaN(pause)) {
          alert('請填寫所有欄位！');
          return;
      }
      
      // 計算各項分數
      const scores = {
          f0: calculateF0Score(f0),
          intensity: calculateIntensityScore(intensity),
          hnr: calculateHNRScore(hnr),
          jitter: calculateJitterScore(jitter),
          shimmer: calculateShimmerScore(shimmer),
          f1: calculateF1Score(f1),
          f2: calculateF2Score(f2),
          speechRate: calculateSpeechRateScore(speechRate),
          pause: pause
      };
      
      // 計算總分
      const totalScore = Object.values(scores).reduce((a, b) => a + b, 0);
      
      // 顯示結果
      displayResults(scores, totalScore);
  }
  
  function calculateF0Score(f0) {
      // 假設為成年人平均值評估
      if ((f0 >= 100 && f0 <= 150) || (f0 >= 180 && f0 <= 220)) {
          return 10;
      } else if ((f0 >= 85 && f0 < 100) || (f0 > 150 && f0 <= 180) || (f0 > 220 && f0 <= 255)) {
          return 7;
      } else if ((f0 >= 70 && f0 < 85) || (f0 > 255 && f0 <= 280)) {
          return 4;
      } else {
          return 2;
      }
  }
  
  function calculateIntensityScore(intensity) {
      if (intensity >= 65 && intensity <= 75) {
          return 10;
      } else if (intensity >= 60 && intensity < 65) {
          return 7;
      } else if (intensity >= 55 && intensity < 60) {
          return 5;
      } else {
          return 2;
      }
  }
  
  function calculateHNRScore(hnr) {
      if (hnr >= 20) {
          return 15;
      } else if (hnr >= 15 && hnr < 20) {
          return 12;
      } else if (hnr >= 10 && hnr < 15) {
          return 8;
      } else {
          return 4;
      }
  }
  
  function calculateJitterScore(jitter) {
      if (jitter <= 0.5) {
          return 15;
      } else if (jitter <= 1.04) {
          return 12;
      } else if (jitter <= 2.0) {
          return 8;
      } else {
          return 4;
      }
  }
  
  function calculateShimmerScore(shimmer) {
      if (shimmer <= 2.0) {
          return 15;
      } else if (shimmer <= 3.81) {
          return 12;
      } else if (shimmer <= 6.0) {
          return 8;
      } else {
          return 4;
      }
  }
  
  function calculateF1Score(f1) {
      // 以 /a/ 音為標準：600-900 Hz
      if (f1 >= 600 && f1 <= 900) {
          return 10;
      } else if ((f1 >= 480 && f1 < 600) || (f1 > 900 && f1 <= 1080)) {
          return 7;
      } else if ((f1 >= 420 && f1 < 480) || (f1 > 1080 && f1 <= 1170)) {
          return 4;
      } else {
          return 2;
      }
  }
  
  function calculateF2Score(f2) {
      // 以 /a/ 音為標準：1000-1400 Hz
      if (f2 >= 1000 && f2 <= 1400) {
          return 10;
      } else if ((f2 >= 800 && f2 < 1000) || (f2 > 1400 && f2 <= 1680)) {
          return 7;
      } else if ((f2 >= 700 && f2 < 800) || (f2 > 1680 && f2 <= 1820)) {
          return 4;
      } else {
          return 2;
      }
  }
  
  function calculateSpeechRateScore(rate) {
      if (rate >= 180 && rate <= 220) {
          return 10;
      } else if ((rate >= 150 && rate < 180) || (rate > 220 && rate <= 250)) {
          return 7;
      } else if ((rate >= 120 && rate < 150) || (rate > 250 && rate <= 280)) {
          return 4;
      } else {
          return 2;
      }
  }
  
  function displayResults(scores, totalScore) {
      // 顯示結果區域
      const resultDisplay = document.getElementById('resultDisplay');
      resultDisplay.classList.add('show');
      
      // 顯示總分
      document.getElementById('totalScore').textContent = totalScore.toFixed(1) + ' 分';
      document.getElementById('totalScoreDetail').textContent = totalScore.toFixed(1) + ' 分';
      
      // 顯示解讀
      let interpretation = '';
      let interpretationColor = '';
      if (totalScore >= 90) {
          interpretation = '🎉 優秀 - 語音功能正常或接近正常';
          interpretationColor = '#38a169';
      } else if (totalScore >= 75) {
          interpretation = '👍 良好 - 輕度語音障礙，日常溝通無礙';
          interpretationColor = '#3182ce';
      } else if (totalScore >= 60) {
          interpretation = '⚠️ 尚可 - 中度語音障礙，需持續訓練';
          interpretationColor = '#d69e2e';
      } else {
          interpretation = '🔴 需加強 - 重度語音障礙，需密集治療';
          interpretationColor = '#e53e3e';
      }
      
      const interpretationEl = document.getElementById('interpretation');
      interpretationEl.textContent = interpretation;
      interpretationEl.style.color = interpretationColor;
      
      // 顯示各項分數
      document.getElementById('f0Score').textContent = scores.f0.toFixed(1) + ' / 10';
      document.getElementById('intensityScore').textContent = scores.intensity.toFixed(1) + ' / 10';
      document.getElementById('hnrScore').textContent = scores.hnr.toFixed(1) + ' / 15';
      document.getElementById('jitterScore').textContent = scores.jitter.toFixed(1) + ' / 15';
      document.getElementById('shimmerScore').textContent = scores.shimmer.toFixed(1) + ' / 15';
      document.getElementById('f1Score').textContent = scores.f1.toFixed(1) + ' / 10';
      document.getElementById('f2Score').textContent = scores.f2.toFixed(1) + ' / 10';
      document.getElementById('speechRateScore').textContent = scores.speechRate.toFixed(1) + ' / 10';
      document.getElementById('pauseScore').textContent = scores.pause.toFixed(1) + ' / 5';
      
      // 生成建議
      generateRecommendations(scores, totalScore);
      
      // 滾動到結果
      resultDisplay.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
  }
  
  function generateRecommendations(scores, totalScore) {
      const recommendations = [];
      
      if (scores.intensity < 7) {
          recommendations.push('🔊 <strong>音量訓練：</strong>建議進行LSVT LOUD療法，增強發聲音量');
      }
      
      if (scores.hnr < 12) {
          recommendations.push('🎵 <strong>音質改善：</strong>練習放鬆喉部肌肉，減少氣息聲');
      }
      
      if (scores.jitter < 12 || scores.shimmer < 12) {
          recommendations.push('📊 <strong>穩定性訓練：</strong>持續發 /a/ 音練習，提升聲音穩定性');
      }
      
      if (scores.f1 < 7 || scores.f2 < 7) {
          recommendations.push('🗣️ <strong>構音訓練：</strong>加強元音清晰度練習，擴大口腔開合幅度');
      }
      
      if (scores.speechRate < 7) {
          recommendations.push('⏱️ <strong>語速調整：</strong>練習節奏控制，使用節拍器輔助');
      }
      
      if (totalScore >= 90) {
          recommendations.push('✅ <strong>維持現狀：</strong>繼續保持良好的語音習慣，定期評估');
      } else if (totalScore >= 75) {
          recommendations.push('📈 <strong>持續進步：</strong>繼續30天訓練計畫，鞏固成果');
      } else if (totalScore >= 60) {
          recommendations.push('💪 <strong>加強訓練：</strong>建議每天訓練2次，增加練習強度');
      } else {
          recommendations.push('🏥 <strong>專業協助：</strong>建議諮詢語言治療師，制定個人化治療計畫');
      }
      
      document.getElementById('recommendations').innerHTML = recommendations.join('<br><br>');
  }
  </script>
  </body>
  </html>
