<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å¸•é‡‘æ£®ç—…å‹æ¬Šç›Šä¿ƒé€²æœƒ</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary-color: #4285f4;
      --secondary-color: #34a853;
      --danger-color: #ea4335;
      --success-color: #34a853;
      --warning-color: #fbbc04;
      --dark-color: #333;
      --light-color: #f8f9fa;
      --sidebar-width: 260px;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: var(--dark-color);
      background: var(--light-color);
    }

    /* Loading Spinner */
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255,255,255,0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }

    .loading-overlay.active {
      display: flex;
    }

    .spinner {
      width: 50px;
      height: 50px;
      border: 5px solid var(--light-color);
      border-top: 5px solid var(--primary-color);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Page Container */
    .page-container {
      display: none;
      animation: fadeIn 0.3s ease;
    }

    .page-container.active {
      display: block;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Common Styles */
    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      justify-content: center;
    }

    .btn-primary {
      background: var(--primary-color);
      color: white;
    }

    .btn-primary:hover {
      background: #3367d6;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(66, 133, 244, 0.3);
    }

    .btn-secondary {
      background: white;
      color: var(--primary-color);
      border: 2px solid var(--primary-color);
    }

    .btn-secondary:hover {
      background: var(--primary-color);
      color: white;
    }

    .btn-success {
      background: var(--secondary-color);
      color: white;
    }

    .btn-danger {
      background: var(--danger-color);
      color: white;
    }

    .btn-warning {
      background: var(--warning-color);
      color: white;
    }

    .btn-sm {
      padding: 6px 12px;
      font-size: 0.85rem;
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 10000;
      justify-content: center;
      align-items: center;
      overflow-y: auto;
      padding: 20px;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background: white;
      padding: 2rem;
      border-radius: 15px;
      max-width: 500px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      animation: modalSlideIn 0.3s ease;
    }

    @keyframes modalSlideIn {
      from {
        transform: scale(0.9);
        opacity: 0;
      }
      to {
        transform: scale(1);
        opacity: 1;
      }
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
      padding-bottom: 1rem;
      border-bottom: 2px solid var(--light-color);
    }

    .modal-header h2 {
      color: var(--primary-color);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .close-modal {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: #999;
      transition: color 0.3s;
    }

    .close-modal:hover {
      color: var(--danger-color);
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      color: var(--dark-color);
      font-weight: 500;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 1rem;
      transition: border-color 0.3s ease;
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(66, 133, 244, 0.1);
    }

    .form-group textarea {
      resize: vertical;
      min-height: 100px;
    }

    /* Alert */
    .alert {
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .alert-success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }

    .alert-error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }

    .alert-info {
      background: #d1ecf1;
      color: #0c5460;
      border: 1px solid #bee5eb;
    }

    .alert-warning {
      background: #fff3cd;
      color: #856404;
      border: 1px solid #ffeaa7;
    }

    /* Toast Notification */
    .toast-container {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 10001;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .toast {
      background: white;
      padding: 1rem 1.5rem;
      border-radius: 8px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.2);
      display: flex;
      align-items: center;
      gap: 12px;
      min-width: 300px;
      animation: slideInRight 0.3s ease;
    }

    @keyframes slideInRight {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    @keyframes slideOutRight {
      from {
        transform: translateX(0);
        opacity: 1;
      }
      to {
        transform: translateX(100%);
        opacity: 0;
      }
    }

    .toast.success {
      border-left: 4px solid var(--success-color);
    }

    .toast.error {
      border-left: 4px solid var(--danger-color);
    }

    .toast.info {
      border-left: 4px solid var(--primary-color);
    }

    .toast.warning {
      border-left: 4px solid var(--warning-color);
    }

    .toast-icon {
      font-size: 1.5rem;
    }

    .toast.success .toast-icon {
      color: var(--success-color);
    }

    .toast.error .toast-icon {
      color: var(--danger-color);
    }

    .toast.info .toast-icon {
      color: var(--primary-color);
    }

    .toast.warning .toast-icon {
      color: var(--warning-color);
    }

    .toast-content {
      flex: 1;
    }

    .toast-title {
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .toast-message {
      font-size: 0.9rem;
      color: #666;
    }

    .toast-close {
      background: none;
      border: none;
      color: #999;
      cursor: pointer;
      font-size: 1.2rem;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      transition: all 0.3s;
    }

    .toast-close:hover {
      background: var(--light-color);
      color: var(--dark-color);
    }

    /* Breadcrumb */
    .breadcrumb {
      display: flex;
      gap: 10px;
      align-items: center;
      color: #666;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .breadcrumb a {
      color: var(--primary-color);
      text-decoration: none;
      transition: color 0.3s;
    }

    .breadcrumb a:hover {
      color: #3367d6;
    }

    /* Card */
    .card {
      background: white;
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .card:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
      padding-bottom: 1rem;
      border-bottom: 2px solid var(--light-color);
    }

    .card-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--dark-color);
    }

    /* Badge */
    .badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .badge-primary {
      background: rgba(66, 133, 244, 0.1);
      color: var(--primary-color);
    }

    .badge-success {
      background: rgba(52, 168, 83, 0.1);
      color: var(--success-color);
    }

    .badge-danger {
      background: rgba(234, 67, 53, 0.1);
      color: var(--danger-color);
    }

    .badge-warning {
      background: rgba(251, 188, 4, 0.1);
      color: var(--warning-color);
    }

    /* Responsive */
    @media (max-width: 768px) {
      .btn {
        width: 100%;
      }

      .toast-container {
        left: 20px;
        right: 20px;
      }

      .toast {
        min-width: auto;
      }
    }

    /* Print Styles */
    @media print {
      .modal,
      .loading-overlay,
      .toast-container,
      .btn,
      header,
      .admin-sidebar {
        display: none !important;
      }
    }
  </style>
</head>
<body>
  <!-- Loading Overlay -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="spinner"></div>
  </div>

  <!-- Toast Container -->
  <div class="toast-container" id="toastContainer"></div>

  <!-- Page Containers -->
  <div id="homePage" class="page-container active"></div>
  <div id="registerPage" class="page-container"></div>
  <div id="loginPage" class="page-container"></div>
  <div id="dashboardPage" class="page-container"></div>
  <div id="adminPage" class="page-container"></div>

  <!-- Login Modal -->
  <div class="modal" id="loginModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2><i class="fas fa-sign-in-alt"></i> æœƒå“¡ç™»å…¥</h2>
        <button class="close-modal" onclick="AppRouter.closeModal('loginModal')">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <form onsubmit="AuthService.handleLogin(event)">
        <div class="form-group">
          <label>é›»å­éƒµä»¶</label>
          <input type="email" id="loginEmail" required placeholder="example@email.com">
        </div>
        <div class="form-group">
          <label>å¯†ç¢¼</label>
          <input type="password" id="loginPassword" required placeholder="è«‹è¼¸å…¥å¯†ç¢¼" minlength="6">
        </div>
        <div style="margin-bottom: 1rem; display: flex; justify-content: space-between; align-items: center;">
          <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
            <input type="checkbox" id="rememberMe"> è¨˜ä½æˆ‘
          </label>
          <a href="javascript:void(0)" onclick="AppRouter.showToast('å¿˜è¨˜å¯†ç¢¼åŠŸèƒ½é–‹ç™¼ä¸­', 'info')" style="color: var(--primary-color); text-decoration: none;">å¿˜è¨˜å¯†ç¢¼ï¼Ÿ</a>
        </div>
        <button type="submit" class="btn btn-primary" style="width: 100%; margin-bottom: 1rem;">
          <i class="fas fa-sign-in-alt"></i> ç™»å…¥
        </button>
        <div style="text-align: center; padding: 1rem 0; border-top: 1px solid var(--light-color); border-bottom: 1px solid var(--light-color); margin-bottom: 1rem;">
          <p style="color: #999; font-size: 0.9rem; margin-bottom: 0.5rem;">å¿«é€Ÿæ¸¬è©¦ç™»å…¥</p>
          <button type="button" class="btn btn-secondary btn-sm" onclick="AuthService.quickLogin('admin')" style="margin-right: 10px;">
            ç®¡ç†å“¡ç™»å…¥
          </button>
          <button type="button" class="btn btn-secondary btn-sm" onclick="AuthService.quickLogin('member')">
            æœƒå“¡ç™»å…¥
          </button>
        </div>
        <p style="text-align: center; color: #666;">
          é‚„ä¸æ˜¯æœƒå“¡ï¼Ÿ <a href="javascript:void(0)" onclick="AppRouter.closeModal('loginModal'); AppRouter.navigate('register');" style="color: var(--primary-color); text-decoration: none; font-weight: 600;">ç«‹å³è¨»å†Š</a>
        </p>
      </form>
    </div>
  </div>

  <script>
    // ==================== å„²å­˜æœå‹™ ====================
    class StorageService {
      static setItem(key, value) {
        try {
          localStorage.setItem(key, JSON.stringify(value));
          return true;
        } catch (e) {
          console.error('Storage error:', e);
          return false;
        }
      }

      static getItem(key) {
        try {
          const item = localStorage.getItem(key);
          return item ? JSON.parse(item) : null;
        } catch (e) {
          console.error('Storage error:', e);
          return null;
        }
      }

      static removeItem(key) {
        try {
          localStorage.removeItem(key);
          return true;
        } catch (e) {
          console.error('Storage error:', e);
          return false;
        }
      }

      static clear() {
        try {
          localStorage.clear();
          return true;
        } catch (e) {
          console.error('Storage error:', e);
          return false;
        }
      }
    }

    // ==================== èªè­‰æœå‹™ ====================
    class AuthService {
      static currentUser = null;

      static init() {
        const user = StorageService.getItem('currentUser');
        if (user) {
          this.currentUser = user;
          console.log('âœ… å·²è‡ªå‹•ç™»å…¥:', user.name);
        }
      }

      static async handleLogin(event) {
        event.preventDefault();
        AppRouter.showLoading();

        const email = document.getElementById('loginEmail').value;
        const password = document.getElementById('loginPassword').value;
        const rememberMe = document.getElementById('rememberMe').checked;

        // æ¨¡æ“¬ API å‘¼å«
        setTimeout(() => {
          // æª¢æŸ¥æ˜¯å¦ç‚ºç®¡ç†å“¡
          if (email === 'admin@parkinsons.org' && password === 'admin123') {
            const adminUser = {
              id: 'admin001',
              name: 'ç³»çµ±ç®¡ç†å“¡',
              email: email,
              role: 'admin',
              loginTime: new Date().toISOString()
            };
            this.loginSuccess(adminUser, rememberMe);
            AppRouter.navigate('admin');
          } 
          // ä¸€èˆ¬æœƒå“¡ç™»å…¥
          else if (email && password.length >= 6) {
            const user = {
              id: 'M' + Date.now(),
              name: email.split('@')[0],
              email: email,
              role: 'member',
              phone: '0912-345-678',
              joinDate: new Date().toISOString().split('T')[0],
              loginTime: new Date().toISOString()
            };
            this.loginSuccess(user, rememberMe);
            AppRouter.navigate('dashboard');
          } else {
            AppRouter.hideLoading();
            AppRouter.showToast('å¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤', 'error', 'è«‹æª¢æŸ¥æ‚¨çš„ç™»å…¥è³‡è¨Š');
          }
        }, 1500);
      }

      static loginSuccess(user, rememberMe) {
        this.currentUser = user;
        if (rememberMe) {
          StorageService.setItem('currentUser', user);
        }
        AppRouter.hideLoading();
        AppRouter.closeModal('loginModal');
        AppRouter.showToast('ç™»å…¥æˆåŠŸ', 'success', `æ­¡è¿å›ä¾†ï¼Œ${user.name}ï¼`);
      }

      static quickLogin(type) {
        if (type === 'admin') {
          document.getElementById('loginEmail').value = 'admin@parkinsons.org';
          document.getElementById('loginPassword').value = 'admin123';
        } else {
          document.getElementById('loginEmail').value = 'member@example.com';
          document.getElementById('loginPassword').value = '123456';
        }
        AppRouter.showToast('å·²å¡«å…¥æ¸¬è©¦å¸³è™Ÿ', 'info', 'è«‹é»æ“Šç™»å…¥æŒ‰éˆ•');
      }

      static logout() {
        if (confirm('ç¢ºå®šè¦ç™»å‡ºå—ï¼Ÿ')) {
          const userName = this.currentUser?.name || 'ä½¿ç”¨è€…';
          this.currentUser = null;
          StorageService.removeItem('currentUser');
          AppRouter.navigate('home');
          AppRouter.showToast('å·²æˆåŠŸç™»å‡º', 'info', `å†è¦‹ï¼Œ${userName}ï¼`);
        }
      }

      static isAuthenticated() {
        return this.currentUser !== null;
      }

      static isAdmin() {
        return this.currentUser && this.currentUser.role === 'admin';
      }

      static requireAuth(callback) {
        if (!this.isAuthenticated()) {
          AppRouter.showModal('loginModal');
          AppRouter.showToast('è«‹å…ˆç™»å…¥', 'warning', 'æ‚¨éœ€è¦ç™»å…¥æ‰èƒ½è¨ªå•æ­¤é é¢');
          return false;
        }
        if (callback) callback();
        return true;
      }

      static requireAdmin(callback) {
        if (!this.isAuthenticated()) {
          AppRouter.showModal('loginModal');
          AppRouter.showToast('è«‹å…ˆç™»å…¥', 'warning', 'æ‚¨éœ€è¦ç™»å…¥æ‰èƒ½è¨ªå•æ­¤é é¢');
          return false;
        }
        if (!this.isAdmin()) {
          AppRouter.showToast('æ¬Šé™ä¸è¶³', 'error', 'æ‚¨æ²’æœ‰æ¬Šé™è¨ªå•æ­¤é é¢');
          AppRouter.navigate('dashboard');
          return false;
        }
        if (callback) callback();
        return true;
      }
    }

    // ==================== è·¯ç”±æœå‹™ ====================
    class AppRouter {
      static currentPage = 'home';

      static init() {
        // å¾ URL ç²å–è·¯å¾‘
        const urlParams = new URLSearchParams(window.location.search);
        const path = urlParams.get('path') || 'home';
        
        // è¼‰å…¥é é¢å…§å®¹
        this.loadPageContent();
        
        // å°èˆªåˆ°æŒ‡å®šé é¢
        this.navigate(path);

        // ç›£è½ç€è¦½å™¨è¿”å›æŒ‰éˆ•
        window.addEventListener('popstate', () => {
          const urlParams = new URLSearchParams(window.location.search);
          const path = urlParams.get('path') || 'home';
          this.navigate(path, false);
        });

        console.log('ğŸš€ è·¯ç”±ç³»çµ±å·²åˆå§‹åŒ–');
      }

      static navigate(page, updateHistory = true) {
        // æª¢æŸ¥æ¬Šé™
        if (page === 'dashboard' && !AuthService.isAuthenticated()) {
          this.showModal('loginModal');
          return;
        }

        if (page === 'admin' && !AuthService.requireAdmin()) {
          return;
        }

        // éš±è—æ‰€æœ‰é é¢
        document.querySelectorAll('.page-container').forEach(container => {
          container.classList.remove('active');
        });

        // é¡¯ç¤ºç›®æ¨™é é¢
        const targetPage = document.getElementById(page + 'Page');
        if (targetPage) {
          targetPage.classList.add('active');
          this.currentPage = page;

          // æ›´æ–° URL
          if (updateHistory) {
            const newUrl = `?path=${page}`;
            window.history.pushState({ path: page }, '', newUrl);
          }

          // è¼‰å…¥é é¢è³‡æ–™
          this.loadPageData(page);

          // æ»¾å‹•åˆ°é ‚éƒ¨
          window.scrollTo({ top: 0, behavior: 'smooth' });

          console.log('ğŸ“„ å·²åˆ‡æ›åˆ°é é¢:', page);
        }
      }

      static loadPageContent() {
        // è¼‰å…¥å„é é¢å…§å®¹
        this.loadHomePage();
        this.loadRegisterPage();
        this.loadLoginPage();
        this.loadDashboardPage();
        this.loadAdminPage();
      }

      static loadPageData(page) {
        switch(page) {
          case 'home':
            DataService.loadHomeData();
            break;
          case 'dashboard':
            DataService.loadDashboardData();
            break;
          case 'admin':
            DataService.loadAdminData();
            break;
        }
      }

      static showLoading() {
        document.getElementById('loadingOverlay').classList.add('active');
      }

      static hideLoading() {
        document.getElementById('loadingOverlay').classList.remove('active');
      }

      static showModal(modalId) {
        document.getElementById(modalId).classList.add('active');
      }

      static closeModal(modalId) {
        document.getElementById(modalId).classList.remove('active');
      }

      static showToast(title, type = 'info', message = '') {
        const container = document.getElementById('toastContainer');
        
        const toast = document.createElement('div');
        toast.className = `toast ${type}`;
        
        const icons = {
          success: 'fa-check-circle',
          error: 'fa-exclamation-circle',
          info: 'fa-info-circle',
          warning: 'fa-exclamation-triangle'
        };
        
        toast.innerHTML = `
          <div class="toast-icon">
            <i class="fas ${icons[type]}"></i>
          </div>
          <div class="toast-content">
            <div class="toast-title">${title}</div>
            ${message ? `<div class="toast-message">${message}</div>` : ''}
          </div>
          <button class="toast-close" onclick="this.parentElement.remove()">
            <i class="fas fa-times"></i>
          </button>
        `;
        
        container.appendChild(toast);
        
        // è‡ªå‹•ç§»é™¤
        setTimeout(() => {
          toast.style.animation = 'slideOutRight 0.3s ease';
          setTimeout(() => toast.remove(), 300);
        }, 5000);
      }

      // è¼‰å…¥é¦–é 
      static loadHomePage() {
        document.getElementById('homePage').innerHTML = `
          <style>
            .home-header {
              background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
              color: white;
              padding: 1rem 0;
              box-shadow: 0 2px 10px rgba(0,0,0,0.1);
              position: sticky;
              top: 0;
              z-index: 1000;
            }

            .home-header-content {
              max-width: 1200px;
              margin: 0 auto;
              padding: 0 20px;
              display: flex;
              justify-content: space-between;
              align-items: center;
            }

            .home-logo {
              display: flex;
              align-items: center;
              gap: 15px;
              font-size: 1.5rem;
              font-weight: 700;
              cursor: pointer;
            }

            .home-nav {
              display: flex;
              gap: 20px;
              list-style: none;
            }

            .home-nav a {
              color: white;
              text-decoration: none;
              padding: 10px 20px;
              border-radius: 8px;
              transition: all 0.3s;
              font-weight: 500;
            }

            .home-nav a:hover {
              background: rgba(255,255,255,0.2);
              transform: translateY(-2px);
            }

            .hero-section {
              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
              color: white;
              padding: 6rem 20px;
              text-align: center;
            }

            .hero-content h1 {
              font-size: 3.5rem;
              margin-bottom: 1rem;
              text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            }

            .hero-content p {
              font-size: 1.5rem;
              margin-bottom: 2rem;
              opacity: 0.95;
            }

            .cta-buttons {
              display: flex;
              gap: 20px;
              justify-content: center;
              flex-wrap: wrap;
            }

            .stats-section {
              background: white;
              padding: 4rem 20px;
            }

            .stats-container {
              max-width: 1200px;
              margin: 0 auto;
            }

            .section-title {
              text-align: center;
              font-size: 2.5rem;
              color: var(--primary-color);
              margin-bottom: 3rem;
            }

            .stats-grid {
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
              gap: 30px;
            }

            .stat-card {
              background: white;
              padding: 2rem;
              border-radius: 15px;
              text-align: center;
              box-shadow: 0 5px 20px rgba(0,0,0,0.1);
              transition: all 0.3s;
              border: 2px solid transparent;
            }

            .stat-card:hover {
              transform: translateY(-10px);
              border-color: var(--primary-color);
              box-shadow: 0 10px 30px rgba(66, 133, 244, 0.2);
            }

            .stat-icon {
              font-size: 3.5rem;
              margin-bottom: 1rem;
              background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
              -webkit-background-clip: text;
              -webkit-text-fill-color: transparent;
              background-clip: text;
            }

            .stat-number {
              font-size: 3rem;
              font-weight: bold;
              color: var(--primary-color);
              margin-bottom: 0.5rem;
            }

            .stat-label {
              font-size: 1.1rem;
              color: #666;
            }

            .features-section {
              background: var(--light-color);
              padding: 4rem 20px;
            }

            .features-grid {
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
              gap: 30px;
              max-width: 1200px;
              margin: 0 auto;
            }

            .feature-card {
              background: white;
              padding: 2rem;
              border-radius: 15px;
              box-shadow: 0 5px 20px rgba(0,0,0,0.08);
              transition: all 0.3s;
            }

            .feature-card:hover {
              transform: translateY(-5px);
              box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            }

            .feature-icon {
              width: 60px;
              height: 60px;
              border-radius: 12px;
              background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
              color: white;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 1.8rem;
              margin-bottom: 1rem;
            }

            .feature-card h3 {
              font-size: 1.3rem;
              color: var(--dark-color);
              margin-bottom: 1rem;
            }

            .feature-card p {
              color: #666;
              line-height: 1.8;
            }

            .footer {
              background: var(--dark-color);
              color: white;
              padding: 3rem 20px 1rem;
              text-align: center;
            }

            .footer-content {
              max-width: 1200px;
              margin: 0 auto;
            }

            .footer-links {
              display: flex;
              justify-content: center;
              gap: 30px;
              margin-bottom: 2rem;
              flex-wrap: wrap;
            }

            .footer-links a {
              color: white;
              text-decoration: none;
              opacity: 0.8;
              transition: opacity 0.3s;
            }

            .footer-links a:hover {
              opacity: 1;
            }

            .social-links {
              display: flex;
              justify-content: center;
              gap: 15px;
              margin-bottom: 2rem;
            }

            .social-links a {
              width: 40px;
              height: 40px;
              border-radius: 50%;
              background: rgba(255,255,255,0.1);
              display: flex;
              align-items: center;
              justify-content: center;
              color: white;
              text-decoration: none;
              transition: all 0.3s;
            }

            .social-links a:hover {
              background: var(--primary-color);
              transform: translateY(-3px);
            }

            @media (max-width: 768px) {
              .home-nav {
                display: none;
              }
              .hero-content h1 {
                font-size: 2rem;
              }
              .hero-content p {
                font-size: 1.1rem;
              }
            }
          </style>

          <header class="home-header">
            <div class="home-header-content">
              <div class="home-logo" onclick="AppRouter.navigate('home')">
                <i class="fas fa-heartbeat"></i>
                <span>å¸•é‡‘æ£®ç—…å‹æ¬Šç›Šä¿ƒé€²æœƒ</span>
              </div>
              <nav>
                <ul class="home-nav">
                  <li><a href="javascript:void(0)" onclick="AppRouter.navigate('home')"><i class="fas fa-home"></i> é¦–é </a></li>
                  <li><a href="javascript:void(0)" onclick="AppRouter.showModal('loginModal')"><i class="fas fa-sign-in-alt"></i> ç™»å…¥</a></li>
                  <li><a href="javascript:void(0)" onclick="AppRouter.navigate('register')"><i class="fas fa-user-plus"></i> è¨»å†Š</a></li>
                </ul>
              </nav>
            </div>
          </header>

          <section class="hero-section">
            <div class="hero-content">
              <h1>æ”œæ‰‹åŒè¡Œï¼Œæº«æš–ç›¸ä¼´</h1>
              <p>ç‚ºå¸•é‡‘æ£®ç—…å‹æä¾›å…¨æ–¹ä½æ”¯æŒèˆ‡é—œæ‡·æœå‹™</p>
              <div class="cta-buttons">
                <button class="btn btn-primary" onclick="AppRouter.navigate('register')" style="font-size: 1.1rem; padding: 15px 40px;">
                  <i class="fas fa-user-plus"></i> ç«‹å³åŠ å…¥
                </button>
                <button class="btn btn-secondary" onclick="AppRouter.showModal('loginModal')" style="font-size: 1.1rem; padding: 15px 40px;">
                  <i class="fas fa-sign-in-alt"></i> æœƒå“¡ç™»å…¥
                </button>
              </div>
            </div>
          </section>

          <section class="stats-section">
            <div class="stats-container">
              <h2 class="section-title">æˆ‘å€‘çš„æˆæœ</h2>
              <div class="stats-grid">
                <div class="stat-card">
                  <div class="stat-icon"><i class="fas fa-users"></i></div>
                  <div class="stat-number" data-target="1250">0</div>
                  <div class="stat-label">æœƒå“¡ç¸½æ•¸</div>
                </div>
                <div class="stat-card">
                  <div class="stat-icon"><i class="fas fa-calendar-check"></i></div>
                  <div class="stat-number" data-target="156">0</div>
                  <div class="stat-label">èˆ‰è¾¦æ´»å‹•</div>
                </div>
                <div class="stat-card">
                  <div class="stat-icon"><i class="fas fa-user-friends"></i></div>
                  <div class="stat-number" data-target="3420">0</div>
                  <div class="stat-label">åƒèˆ‡äººæ¬¡</div>
                </div>
                <div class="stat-card">
                  <div class="stat-icon"><i class="fas fa-heart"></i></div>
                  <div class="stat-number" data-target="98">0</div>
                  <div class="stat-label">æ»¿æ„åº¦ %</div>
                </div>
              </div>
            </div>
          </section>

          <section class="features-section">
            <div class="stats-container">
              <h2 class="section-title">æˆ‘å€‘çš„æœå‹™</h2>
              <div class="features-grid">
                <div class="feature-card">
                  <div class="feature-icon"><i class="fas fa-user-circle"></i></div>
                  <h3>æœƒå“¡æœå‹™</h3>
                  <p>æä¾›å®Œå–„çš„æœƒå“¡ç®¡ç†ç³»çµ±ï¼Œäº«å—å°ˆå±¬æ¬Šç›Šèˆ‡å€‹äººåŒ–æœå‹™</p>
                </div>
                <div class="feature-card">
                  <div class="feature-icon"><i class="fas fa-calendar-alt"></i></div>
                  <h3>æ´»å‹•å ±å</h3>
                  <p>å®šæœŸèˆ‰è¾¦ç—…å‹èšæœƒã€é†«ç™‚è¬›åº§ã€å¾©å¥èª²ç¨‹ç­‰å¤šå…ƒæ´»å‹•</p>
                </div>
                <div class="feature-card">
                  <div class="feature-icon"><i class="fas fa-book-medical"></i></div>
                  <h3>é†«ç™‚è³‡æº</h3>
                  <p>æä¾›æœ€æ–°é†«ç™‚è³‡è¨Šã€ç”¨è—¥æŒ‡å°èˆ‡ç…§è­·çŸ¥è­˜</p>
                </div>
                <div class="feature-card">
                  <div class="feature-icon"><i class="fas fa-comments"></i></div>
                  <h3>å¿ƒç†æ”¯æŒ</h3>
                  <p>å°ˆæ¥­å¿ƒç†è«®è©¢æœå‹™èˆ‡ç—…å‹äº’åŠ©æ”¯æŒåœ˜é«”</p>
                </div>
                <div class="feature-card">
                  <div class="feature-icon"><i class="fas fa-dumbbell"></i></div>
                  <h3>å¾©å¥æŒ‡å°</h3>
                  <p>å°ˆæ¥­ç‰©ç†æ²»ç™‚å¸«æŒ‡å°ï¼Œæä¾›å€‹äººåŒ–å¾©å¥è¨ˆç•«</p>
                </div>
                <div class="feature-card">
                  <div class="feature-icon"><i class="fas fa-home"></i></div>
                  <h3>å®¶å±¬æ”¯æŒ</h3>
                  <p>ç‚ºç…§è­·è€…æä¾›æ”¯æŒèˆ‡æŒ‡å°ï¼Œå…±åŒé¢å°æŒ‘æˆ°</p>
                </div>
              </div>
            </div>
          </section>

          <footer class="footer">
            <div class="footer-content">
              <div class="social-links">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-line"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-youtube"></i></a>
              </div>
              <div class="footer-links">
                <a href="javascript:void(0)" onclick="AppRouter.navigate('home')">é—œæ–¼æˆ‘å€‘</a>
                <a href="javascript:void(0)" onclick="AppRouter.showToast('åŠŸèƒ½é–‹ç™¼ä¸­', 'info')">æ´»å‹•è³‡è¨Š</a>
                <a href="javascript:void(0)" onclick="AppRouter.showToast('åŠŸèƒ½é–‹ç™¼ä¸­', 'info')">é†«ç™‚è³‡æº</a>
                <a href="javascript:void(0)" onclick="AppRouter.showToast('åŠŸèƒ½é–‹ç™¼ä¸­', 'info')">è¯çµ¡æˆ‘å€‘</a>
                <a href="javascript:void(0)" onclick="AppRouter.navigate('admin')" style="opacity: 0.5;">ç®¡ç†å¾Œå°</a>
              </div>
              <p>&copy; 2024 å¸•é‡‘æ£®ç—…å‹æ¬Šç›Šä¿ƒé€²æœƒ. All rights reserved.</p>
              <p style="margin-top: 0.5rem; font-size: 0.9rem; opacity: 0.7;">
                è¯çµ¡é›»è©±ï¼š(02) 1234-5678 | é›»å­éƒµä»¶ï¼šinfo@parkinsons.org.tw
              </p>
            </div>
          </footer>
        `;
      }

      // è¼‰å…¥è¨»å†Šé é¢
      static loadRegisterPage() {
        document.getElementById('registerPage').innerHTML = `
          <style>
            .register-wrapper {
              min-height: 100vh;
              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
              display: flex;
              justify-content: center;
              align-items: center;
              padding: 2rem;
            }

            .register-container {
              background: white;
              border-radius: 20px;
              box-shadow: 0 20px 60px rgba(0,0,0,0.3);
              max-width: 600px;
              width: 100%;
              overflow: hidden;
            }

            .register-header {
              background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
              color: white;
              padding: 2rem;
              text-align: center;
            }

            .register-header h1 {
              font-size: 2rem;
              margin-bottom: 0.5rem;
            }

            .register-body {
              padding: 2rem;
            }

            .form-row {
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
              gap: 1rem;
            }

            .required {
              color: var(--danger-color);
            }
          </style>

          <div class="register-wrapper">
            <div class="register-container">
              <div class="register-header">
                <h1><i class="fas fa-user-plus"></i> æœƒå“¡è¨»å†Š</h1>
                <p>åŠ å…¥æˆ‘å€‘çš„å¤§å®¶åº­ï¼Œä¸€èµ·äº’ç›¸æ”¯æŒ</p>
              </div>

              <div class="register-body">
                <form onsubmit="DataService.handleRegister(event)">
                  <div class="form-group">
                    <label>å§“å <span class="required">*</span></label>
                    <input type="text" id="regName" required placeholder="è«‹è¼¸å…¥æ‚¨çš„å§“å">
                  </div>

                  <div class="form-row">
                    <div class="form-group">
                      <label>æ€§åˆ¥ <span class="required">*</span></label>
                      <select id="regGender" required>
                        <option value="">è«‹é¸æ“‡</option>
                        <option value="male">ç”·æ€§</option>
                        <option value="female">å¥³æ€§</option>
                        <option value="other">å…¶ä»–</option>
                      </select>
                    </div>

                    <div class="form-group">
                      <label>å‡ºç”Ÿæ—¥æœŸ <span class="required">*</span></label>
                      <input type="date" id="regBirthDate" required>
                    </div>
                  </div>

                  <div class="form-group">
                    <label>é›»å­éƒµä»¶ <span class="required">*</span></label>
                    <input type="email" id="regEmail" required placeholder="example@email.com">
                  </div>

                  <div class="form-group">
                    <label>æ‰‹æ©Ÿè™Ÿç¢¼ <span class="required">*</span></label>
                    <input type="tel" id="regPhone" required placeholder="0912345678" pattern="09[0-9]{8}">
                  </div>

                  <div class="form-group">
                    <label>å¯†ç¢¼ <span class="required">*</span></label>
                    <input type="password" id="regPassword" required placeholder="è«‹è¼¸å…¥å¯†ç¢¼ï¼ˆè‡³å°‘6ä½ï¼‰" minlength="6">
                  </div>

                  <div class="form-group">
                    <label>ç¢ºèªå¯†ç¢¼ <span class="required">*</span></label>
                    <input type="password" id="regConfirmPassword" required placeholder="è«‹å†æ¬¡è¼¸å…¥å¯†ç¢¼" minlength="6">
                  </div>

                  <div class="form-group">
                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                      <input type="checkbox" id="agreeTerms" required>
                      <span>æˆ‘å·²é–±è®€ä¸¦åŒæ„ <a href="javascript:void(0)" onclick="AppRouter.showToast('éš±ç§æ¬Šæ”¿ç­–', 'info', 'éš±ç§æ¬Šæ”¿ç­–å…§å®¹...')" style="color: var(--primary-color);">éš±ç§æ¬Šæ”¿ç­–</a> <span class="required">*</span></span>
                    </label>
                  </div>

                  <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                    <button type="button" class="btn btn-secondary" onclick="AppRouter.navigate('home')">
                      <i class="fas fa-arrow-left"></i> è¿”å›
                    </button>
                    <button type="submit" class="btn btn-primary" style="flex: 1;">
                      <i class="fas fa-check"></i> é€å‡ºè¨»å†Š
                    </button>
                  </div>

                  <p style="text-align: center; margin-top: 1.5rem; color: #666;">
                    å·²ç¶“æ˜¯æœƒå“¡ï¼Ÿ <a href="javascript:void(0)" onclick="AppRouter.showModal('loginModal')" style="color: var(--primary-color); text-decoration: none; font-weight: 600;">ç«‹å³ç™»å…¥</a>
                  </p>
                </form>
              </div>
            </div>
          </div>
        `;
      }

      // è¼‰å…¥ç™»å…¥é é¢ï¼ˆå‚™ç”¨ï¼‰
      static loadLoginPage() {
        document.getElementById('loginPage').innerHTML = `
          <div style="padding: 4rem 2rem; text-align: center; min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center;">
            <i class="fas fa-sign-in-alt" style="font-size: 4rem; color: var(--primary-color); margin-bottom: 2rem;"></i>
            <h2 style="margin-bottom: 1rem;">è«‹ä½¿ç”¨ç™»å…¥å½ˆçª—é€²è¡Œç™»å…¥</h2>
            <p style="color: #666; margin-bottom: 2rem;">é»æ“Šä¸‹æ–¹æŒ‰éˆ•é–‹å•Ÿç™»å…¥è¦–çª—</p>
            <button class="btn btn-primary" onclick="AppRouter.showModal('loginModal')">
              <i class="fas fa-sign-in-alt"></i> é–‹å•Ÿç™»å…¥è¦–çª—
            </button>
          </div>
        `;
      }

      // è¼‰å…¥æœƒå“¡ä¸­å¿ƒ
      static loadDashboardPage() {
        document.getElementById('dashboardPage').innerHTML = `
          <style>
            .dashboard-header {
              background: white;
              border-bottom: 1px solid #e0e0e0;
              padding: 1rem 2rem;
              display: flex;
              justify-content: space-between;
              align-items: center;
              position: sticky;
              top: 0;
              z-index: 1000;
              box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            }

            .dashboard-logo {
              display: flex;
              align-items: center;
              gap: 10px;
              font-size: 1.2rem;
              font-weight: 600;
              color: var(--primary-color);
              cursor: pointer;
            }

            .dashboard-user {
              display: flex;
              align-items: center;
              gap: 15px;
            }

            .user-avatar {
              width: 40px;
              height: 40px;
              border-radius: 50%;
              background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
              color: white;
              display: flex;
              align-items: center;
              justify-content: center;
              font-weight: 600;
            }

            .dashboard-content {
              max-width: 1200px;
              margin: 0 auto;
              padding: 2rem;
            }

            .welcome-card {
              background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
              color: white;
              padding: 2rem;
              border-radius: 15px;
              margin-bottom: 2rem;
              box-shadow: 0 5px 20px rgba(66, 133, 244, 0.3);
            }

            .welcome-card h1 {
              font-size: 2rem;
              margin-bottom: 0.5rem;
            }

            .stats-grid {
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
              gap: 1.5rem;
              margin-bottom: 2rem;
            }

            .stat-card {
              background: white;
              padding: 1.5rem;
              border-radius: 12px;
              box-shadow: 0 2px 10px rgba(0,0,0,0.05);
              display: flex;
              align-items: center;
              gap: 1rem;
              transition: all 0.3s;
            }

            .stat-card:hover {
              transform: translateY(-5px);
              box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            }

            .stat-icon {
              width: 60px;
              height: 60px;
              border-radius: 12px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 1.5rem;
              color: white;
              background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            }

            .stat-content h3 {
              font-size: 1.8rem;
              color: var(--dark-color);
              margin-bottom: 0.3rem;
            }

            .stat-content p {
              color: #666;
              font-size: 0.9rem;
            }
          </style>

          <header class="dashboard-header">
            <div class="dashboard-logo" onclick="AppRouter.navigate('dashboard')">
              <i class="fas fa-heartbeat"></i>
              <span>æœƒå“¡ä¸­å¿ƒ</span>
            </div>
            <div class="dashboard-user">
              <span id="dashboardUserName">è¼‰å…¥ä¸­...</span>
              <div class="user-avatar" id="dashboardUserAvatar">?</div>
              <button class="btn btn-secondary btn-sm" onclick="AuthService.logout()">
                <i class="fas fa-sign-out-alt"></i> ç™»å‡º
              </button>
            </div>
          </header>

          <div class="dashboard-content">
            <div class="welcome-card">
              <h1>ğŸ‘‹ æ­¡è¿å›ä¾†ï¼Œ<span id="welcomeUserName">æœƒå“¡</span></h1>
              <p style="opacity: 0.9;">ä»Šå¤©æ˜¯ <span id="currentDate"></span></p>
            </div>

            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-icon">
                  <i class="fas fa-calendar-check"></i>
                </div>
                <div class="stat-content">
                  <h3>3</h3>
                  <p>å³å°‡åƒåŠ çš„æ´»å‹•</p>
                </div>
              </div>

              <div class="stat-card">
                <div class="stat-icon">
                  <i class="fas fa-check-circle"></i>
                </div>
                <div class="stat-content">
                  <h3>12</h3>
                  <p>å·²åƒåŠ æ´»å‹•</p>
                </div>
              </div>

              <div class="stat-card">
                <div class="stat-icon">
                  <i class="fas fa-bell"></i>
                </div>
                <div class="stat-content">
                  <h3>5</h3>
                  <p>æœªè®€é€šçŸ¥</p>
                </div>
              </div>

              <div class="stat-card">
                <div class="stat-icon">
                  <i class="fas fa-calendar-day"></i>
                </div>
                <div class="stat-content">
                  <h3 id="memberDays">0</h3>
                  <p>æœƒå“¡å¤©æ•¸</p>
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-header">
                <h2 class="card-title"><i class="fas fa-user"></i> å€‹äººè³‡æ–™</h2>
                <button class="btn btn-primary btn-sm" onclick="AppRouter.showToast('ç·¨è¼¯åŠŸèƒ½é–‹ç™¼ä¸­', 'info')">
                  <i class="fas fa-edit"></i> ç·¨è¼¯
                </button>
              </div>
              <div id="memberProfile">è¼‰å…¥ä¸­...</div>
            </div>

            <div class="card" style="margin-top: 2rem;">
              <div class="card-header">
                <h2 class="card-title"><i class="fas fa-calendar-alt"></i> æˆ‘çš„æ´»å‹•</h2>
                <button class="btn btn-primary btn-sm" onclick="AppRouter.showToast('æ´»å‹•å ±ååŠŸèƒ½é–‹ç™¼ä¸­', 'info')">
                  <i class="fas fa-plus"></i> å ±åæ´»å‹•
                </button>
              </div>
              <div id="memberActivities">è¼‰å…¥ä¸­...</div>
            </div>
          </div>
        `;
      }

      // è¼‰å…¥ç®¡ç†å¾Œå°
      static loadAdminPage() {
        document.getElementById('adminPage').innerHTML = `
          <style>
            .admin-layout {
              display: flex;
              min-height: 100vh;
            }

            .admin-sidebar {
              width: 260px;
              background: white;
              border-right: 1px solid #e0e0e0;
              padding: 1.5rem 0;
              overflow-y: auto;
            }

            .admin-sidebar h3 {
              padding: 0 1.5rem;
              color: #999;
              font-size: 0.75rem;
              text-transform: uppercase;
              margin-bottom: 0.5rem;
              letter-spacing: 1px;
            }

            .admin-menu {
              list-style: none;
              margin-bottom: 2rem;
            }

            .admin-menu a {
              display: flex;
              align-items: center;
              gap: 12px;
              padding: 0.8rem 1.5rem;
              color: var(--dark-color);
              text-decoration: none;
              transition: all 0.3s;
              border-left: 3px solid transparent;
            }

            .admin-menu a:hover,
            .admin-menu a.active {
              background: var(--light-color);
              border-left-color: var(--primary-color);
              color: var(--primary-color);
              font-weight: 600;
            }

            .admin-menu i {
              width: 20px;
              text-align: center;
            }

            .admin-content {
              flex: 1;
              background: var(--light-color);
            }

            .admin-header {
              background: white;
              padding: 1rem 2rem;
              border-bottom: 1px solid #e0e0e0;
              display: flex;
              justify-content: space-between;
              align-items: center;
              position: sticky;
              top: 0;
              z-index: 1000;
              box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            }

            .admin-main {
              padding: 2rem;
            }

            .page-header {
              margin-bottom: 2rem;
            }

            .page-header h1 {
              font-size: 2rem;
              color: var(--dark-color);
              margin-bottom: 0.5rem;
            }

            .stats-grid {
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
              gap: 1.5rem;
              margin-bottom: 2rem;
            }

            .stat-card {
              background: white;
              padding: 1.5rem;
              border-radius: 12px;
              box-shadow: 0 2px 10px rgba(0,0,0,0.05);
              display: flex;
              align-items: center;
              gap: 1rem;
              transition: all 0.3s;
            }

            .stat-card:hover {
              transform: translateY(-5px);
              box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            }

            .stat-icon {
              width: 60px;
              height: 60px;
              border-radius: 12px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 1.5rem;
              color: white;
            }

            .stat-icon.blue {
              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            }

            .stat-icon.green {
              background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            }

            .stat-icon.orange {
              background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            }

            .stat-icon.red {
              background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            }

            .stat-content h3 {
              font-size: 1.8rem;
              color: var(--dark-color);
            }

            .stat-content p {
              color: #666;
              font-size: 0.9rem;
            }

            table {
              width: 100%;
              border-collapse: collapse;
              background: white;
            }

            table th {
              padding: 1rem;
              text-align: left;
              background: var(--light-color);
              font-weight: 600;
              color: var(--dark-color);
              border-bottom: 2px solid #ddd;
            }

            table td {
              padding: 1rem;
              border-bottom: 1px solid #eee;
            }

            table tr:hover {
              background: var(--light-color);
            }

            .status-badge {
              display: inline-block;
              padding: 4px 12px;
              border-radius: 20px;
              font-size: 0.8rem;
              font-weight: 600;
            }

            .status-badge.active {
              background: #e8f5e9;
              color: #2e7d32;
            }

            @media (max-width: 768px) {
              .admin-sidebar {
                display: none;
              }
            }
          </style>

          <div class="admin-layout">
            <aside class="admin-sidebar">
              <h3>ä¸»è¦åŠŸèƒ½</h3>
              <ul class="admin-menu">
                <li><a href="javascript:void(0)" onclick="AdminService.showSection('dashboard')" class="active">
                  <i class="fas fa-home"></i> å„€è¡¨æ¿
                </a></li>
                <li><a href="javascript:void(0)" onclick="AdminService.showSection('members')">
                  <i class="fas fa-users"></i> æœƒå“¡ç®¡ç†
                </a></li>
                <li><a href="javascript:void(0)" onclick="AdminService.showSection('activities')">
                  <i class="fas fa-calendar-alt"></i> æ´»å‹•ç®¡ç†
                </a></li>
                <li><a href="javascript:void(0)" onclick="AdminService.showSection('finance')">
                  <i class="fas fa-dollar-sign"></i> è²¡å‹™ç®¡ç†
                </a></li>
                <li><a href="javascript:void(0)" onclick="AdminService.showSection('settings')">
                  <i class="fas fa-cog"></i> ç³»çµ±è¨­å®š
                </a></li>
              </ul>
            </aside>

            <div class="admin-content">
              <header class="admin-header">
                <div style="display: flex; align-items: center; gap: 10px;">
                  <i class="fas fa-heartbeat" style="font-size: 1.5rem; color: var(--primary-color);"></i>
                  <span style="font-size: 1.2rem; font-weight: 600;">ç®¡ç†å¾Œå°</span>
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                  <span id="adminUserName">ç®¡ç†å“¡</span>
                  <button class="btn btn-secondary btn-sm" onclick="AuthService.logout()">
                    <i class="fas fa-sign-out-alt"></i> ç™»å‡º
                  </button>
                </div>
              </header>

              <div class="admin-main">
                <div id="adminDashboard" class="admin-section">
                  <div class="page-header">
                    <h1>ğŸ“Š å„€è¡¨æ¿ç¸½è¦½</h1>
                  </div>

                  <div class="stats-grid">
                    <div class="stat-card">
                      <div class="stat-icon blue">
                        <i class="fas fa-users"></i>
                      </div>
                      <div class="stat-content">
                        <h3>1,250</h3>
                        <p>ç¸½æœƒå“¡æ•¸</p>
                      </div>
                    </div>

                    <div class="stat-card">
                      <div class="stat-icon green">
                        <i class="fas fa-calendar-check"></i>
                      </div>
                      <div class="stat-content">
                        <h3>156</h3>
                        <p>èˆ‰è¾¦æ´»å‹•</p>
                      </div>
                    </div>

                    <div class="stat-card">
                      <div class="stat-icon orange">
                        <i class="fas fa-user-friends"></i>
                      </div>
                      <div class="stat-content">
                        <h3>3,420</h3>
                        <p>åƒèˆ‡äººæ¬¡</p>
                      </div>
                    </div>

                    <div class="stat-card">
                      <div class="stat-icon red">
                        <i class="fas fa-dollar-sign"></i>
                      </div>
                      <div class="stat-content">
                        <h3>$2.5M</h3>
                        <p>ç¸½æ”¶å…¥</p>
                      </div>
                    </div>
                  </div>

                  <div class="card">
                    <div class="card-header">
                      <h2 class="card-title"><i class="fas fa-user-plus"></i> æœ€æ–°åŠ å…¥æœƒå“¡</h2>
                    </div>
                    <table id="adminRecentMembers">
                      <thead>
                        <tr>
                          <th>æœƒå“¡ç·¨è™Ÿ</th>
                          <th>å§“å</th>
                          <th>é›»å­éƒµä»¶</th>
                          <th>åŠ å…¥æ—¥æœŸ</th>
                          <th>ç‹€æ…‹</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr><td colspan="5" style="text-align: center;">è¼‰å…¥ä¸­...</td></tr>
                      </tbody>
                    </table>
                  </div>
                </div>

                <div id="adminMembers" class="admin-section" style="display: none;">
                  <div class="page-header">
                    <h1>ğŸ‘¥ æœƒå“¡ç®¡ç†</h1>
                  </div>
                  <div class="card">
                    <div class="card-header">
                      <h2 class="card-title">æœƒå“¡åˆ—è¡¨</h2>
                      <button class="btn btn-primary btn-sm" onclick="AppRouter.showToast('æ–°å¢æœƒå“¡åŠŸèƒ½é–‹ç™¼ä¸­', 'info')">
                        <i class="fas fa-plus"></i> æ–°å¢æœƒå“¡
                      </button>
                    </div>
                    <div id="adminMembersList">è¼‰å…¥ä¸­...</div>
                  </div>
                </div>

                <div id="adminActivities" class="admin-section" style="display: none;">
                  <div class="page-header">
                    <h1>ğŸ“… æ´»å‹•ç®¡ç†</h1>
                  </div>
                  <div class="card">
                    <div class="card-header">
                      <h2 class="card-title">æ´»å‹•åˆ—è¡¨</h2>
                      <button class="btn btn-primary btn-sm" onclick="AppRouter.showToast('æ–°å¢æ´»å‹•åŠŸèƒ½é–‹ç™¼ä¸­', 'info')">
                        <i class="fas fa-plus"></i> æ–°å¢æ´»å‹•
                      </button>
                    </div>
                    <div id="adminActivitiesList">è¼‰å…¥ä¸­...</div>
                  </div>
                </div>

                <div id="adminFinance" class="admin-section" style="display: none;">
                  <div class="page-header">
                    <h1>ğŸ’° è²¡å‹™ç®¡ç†</h1>
                  </div>
                  <div class="card">
                    <h2 class="card-title">è²¡å‹™ç¸½è¦½</h2>
                    <p>è²¡å‹™ç®¡ç†åŠŸèƒ½é–‹ç™¼ä¸­...</p>
                  </div>
                </div>

                <div id="adminSettings" class="admin-section" style="display: none;">
                  <div class="page-header">
                    <h1>âš™ï¸ ç³»çµ±è¨­å®š</h1>
                  </div>
                  <div class="card">
                    <h2 class="card-title">ç³»çµ±è¨­å®š</h2>
                    <p>ç³»çµ±è¨­å®šåŠŸèƒ½é–‹ç™¼ä¸­...</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `;
      }
    }

    // ==================== è³‡æ–™æœå‹™ ====================
    class DataService {
      static loadHomeData() {
        // æ•¸å­—å‹•ç•«æ•ˆæœ
        setTimeout(() => {
          document.querySelectorAll('.stat-number').forEach(el => {
            const target = parseInt(el.getAttribute('data-target'));
            const duration = 2000;
            const step = target / (duration / 16);
            let current = 0;

            const timer = setInterval(() => {
              current += step;
              if (current >= target) {
                el.textContent = target;
                clearInterval(timer);
              } else {
                el.textContent = Math.floor(current);
              }
            }, 16);
          });
        }, 300);
      }

      static loadDashboardData() {
        if (!AuthService.currentUser) return;

        const userName = AuthService.currentUser.name;
        const userAvatar = userName.charAt(0);

        document.getElementById('dashboardUserName').textContent = userName;
        document.getElementById('dashboardUserAvatar').textContent = userAvatar;
        document.getElementById('welcomeUserName').textContent = userName;

        const now = new Date();
        const options = { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' };
        document.getElementById('currentDate').textContent = now.toLocaleDateString('zh-TW', options);

        const joinDate = new Date(AuthService.currentUser.joinDate);
        const today = new Date();
        const daysDiff = Math.floor((today - joinDate) / (1000 * 60 * 60 * 24));
        document.getElementById('memberDays').textContent = daysDiff;

        document.getElementById('memberProfile').innerHTML = `
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
            <div><strong>æœƒå“¡ç·¨è™Ÿï¼š</strong>${AuthService.currentUser.id}</div>
            <div><strong>å§“åï¼š</strong>${AuthService.currentUser.name}</div>
            <div><strong>é›»å­éƒµä»¶ï¼š</strong>${AuthService.currentUser.email}</div>
            <div><strong>é›»è©±ï¼š</strong>${AuthService.currentUser.phone}</div>
            <div><strong>åŠ å…¥æ—¥æœŸï¼š</strong>${AuthService.currentUser.joinDate}</div>
            <div><strong>æœƒå“¡ç‹€æ…‹ï¼š</strong><span class="badge badge-success">æ­£å¸¸</span></div>
          </div>
        `;

        document.getElementById('memberActivities').innerHTML = `
          <p style="color: #666; margin-bottom: 1rem;">æ‚¨ç›®å‰æ²’æœ‰å ±åä»»ä½•æ´»å‹•</p>
          <button class="btn btn-primary" onclick="AppRouter.showToast('æ´»å‹•å ±ååŠŸèƒ½é–‹ç™¼ä¸­', 'info')">
            <i class="fas fa-calendar-plus"></i> ç€è¦½æ´»å‹•
          </button>
        `;
      }

      static loadAdminData() {
        if (!AuthService.currentUser) return;

        document.getElementById('adminUserName').textContent = AuthService.currentUser.name;

        setTimeout(() => {
          const members = [
            { id: 'M2024050', name: 'ç‹å°æ˜', email: 'wang@example.com', date: '2024-11-01', status: 'active' },
            { id: 'M2024049', name: 'æå°è¯', email: 'lee@example.com', date: '2024-10-28', status: 'active' },
            { id: 'M2024048', name: 'é™³å¤§åŒ', email: 'chen@example.com', date: '2024-10-25', status: 'active' },
            { id: 'M2024047', name: 'æ—ç¾ç²', email: 'lin@example.com', date: '2024-10-22', status: 'active' },
            { id: 'M2024046', name: 'å¼µå¿—æ˜', email: 'chang@example.com', date: '2024-10-20', status: 'active' }
          ];

          const tbody = document.querySelector('#adminRecentMembers tbody');
          tbody.innerHTML = members.map(member => `
            <tr>
              <td>${member.id}</td>
              <td>${member.name}</td>
              <td>${member.email}</td>
              <td>${member.date}</td>
              <td><span class="status-badge ${member.status}">æ­£å¸¸</span></td>
            </tr>
          `).join('');
        }, 500);
      }

      static handleRegister(event) {
        event.preventDefault();

        const password = document.getElementById('regPassword').value;
        const confirmPassword = document.getElementById('regConfirmPassword').value;

        if (password !== confirmPassword) {
          AppRouter.showToast('å¯†ç¢¼ä¸ä¸€è‡´', 'error', 'è«‹ç¢ºèªå…©æ¬¡è¼¸å…¥çš„å¯†ç¢¼ç›¸åŒ');
          return;
        }

        AppRouter.showLoading();

        const formData = {
          name: document.getElementById('regName').value,
          gender: document.getElementById('regGender').value,
          birthDate: document.getElementById('regBirthDate').value,
          email: document.getElementById('regEmail').value,
          phone: document.getElementById('regPhone').value,
          password: password
        };

        setTimeout(() => {
          AppRouter.hideLoading();
          AppRouter.showToast('è¨»å†ŠæˆåŠŸ', 'success', 'è«‹ç™»å…¥æ‚¨çš„å¸³è™Ÿ');
          AppRouter.navigate('home');
          setTimeout(() => {
            AppRouter.showModal('loginModal');
            document.getElementById('loginEmail').value = formData.email;
          }, 1000);
        }, 2000);
      }
    }

    // ==================== ç®¡ç†å¾Œå°æœå‹™ ====================
    class AdminService {
      static showSection(section) {
        document.querySelectorAll('.admin-section').forEach(el => {
          el.style.display = 'none';
        });

        const targetSection = document.getElementById('admin' + section.charAt(0).toUpperCase() + section.slice(1));
        if (targetSection) {
          targetSection.style.display = 'block';
        }

        document.querySelectorAll('.admin-menu a').forEach(link => {
          link.classList.remove('active');
        });
        event.target.closest('a').classList.add('active');

        this.loadSectionData(section);
      }

      static loadSectionData(section) {
        switch(section) {
          case 'members':
            this.loadMembersData();
            break;
          case 'activities':
            this.loadActivitiesData();
            break;
        }
      }

      static loadMembersData() {
        const container = document.getElementById('adminMembersList');
        container.innerHTML = '<p>è¼‰å…¥ä¸­...</p>';

        setTimeout(() => {
          container.innerHTML = `
            <table>
              <thead>
                <tr>
                  <th>æœƒå“¡ç·¨è™Ÿ</th>
                  <th>å§“å</th>
                  <th>é›»å­éƒµä»¶</th>
                  <th>é›»è©±</th>
                  <th>åŠ å…¥æ—¥æœŸ</th>
                  <th>ç‹€æ…‹</th>
                  <th>æ“ä½œ</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>M2024050</td>
                  <td>ç‹å°æ˜</td>
                  <td>wang@example.com</td>
                  <td>0912-345-678</td>
                  <td>2024-11-01</td>
                  <td><span class="status-badge active">æ­£å¸¸</span></td>
                  <td>
                    <button class="btn btn-primary btn-sm" onclick="AppRouter.showToast('æŸ¥çœ‹æœƒå“¡è©³æƒ…', 'info')">
                      <i class="fas fa-eye"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>M2024049</td>
                  <td>æå°è¯</td>
                  <td>lee@example.com</td>
                  <td>0923-456-789</td>
                  <td>2024-10-28</td>
                  <td><span class="status-badge active">æ­£å¸¸</span></td>
                  <td>
                    <button class="btn btn-primary btn-sm" onclick="AppRouter.showToast('æŸ¥çœ‹æœƒå“¡è©³æƒ…', 'info')">
                      <i class="fas fa-eye"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          `;
        }, 500);
      }

      static loadActivitiesData() {
        const container = document.getElementById('adminActivitiesList');
        container.innerHTML = '<p>è¼‰å…¥ä¸­...</p>';

        setTimeout(() => {
          container.innerHTML = `
            <table>
              <thead>
                <tr>
                  <th>æ´»å‹•ç·¨è™Ÿ</th>
                  <th>æ´»å‹•åç¨±</th>
                  <th>æ—¥æœŸ</th>
                  <th>åœ°é»</th>
                  <th>å ±åäººæ•¸</th>
                  <th>ç‹€æ…‹</th>
                  <th>æ“ä½œ</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>A2024015</td>
                  <td>å¸•é‡‘æ£®ç—…å‹å¥åº·è¬›åº§</td>
                  <td>2024-11-15</td>
                  <td>å°åŒ—å¸‚ä¸­æ­£å€</td>
                  <td>35/50</td>
                  <td><span class="status-badge active">å ±åä¸­</span></td>
                  <td>
                    <button class="btn btn-primary btn-sm" onclick="AppRouter.showToast('æŸ¥çœ‹æ´»å‹•è©³æƒ…', 'info')">
                      <i class="fas fa-eye"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>A2024014</td>
                  <td>å¾©å¥é‹å‹•èª²ç¨‹</td>
                  <td>2024-11-20</td>
                  <td>æ–°åŒ—å¸‚æ¿æ©‹å€</td>
                  <td>18/20</td>
                  <td><span class="status-badge active">å ±åä¸­</span></td>
                  <td>
                    <button class="btn btn-primary btn-sm" onclick="AppRouter.showToast('æŸ¥çœ‹æ´»å‹•è©³æƒ…', 'info')">
                      <i class="fas fa-eye"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          `;
        }, 500);
      }
    }

    // ==================== åˆå§‹åŒ– ====================
    document.addEventListener('DOMContentLoaded', function() {
      AuthService.init();
      AppRouter.init();

      document.querySelectorAll('.modal').forEach(modal => {
        modal.addEventListener('click', function(e) {
          if (e.target === this) {
            this.classList.remove('active');
          }
        });
      });

      console.log('ğŸ‰ å¸•é‡‘æ£®ç—…å‹æ¬Šç›Šä¿ƒé€²æœƒç³»çµ±å·²å•Ÿå‹•');
      console.log('ğŸ“ æ¸¬è©¦å¸³è™Ÿï¼š');
      console.log('   ç®¡ç†å“¡ - admin@parkinsons.org / admin123');
      console.log('   æœƒå“¡ - ä»»æ„ä¿¡ç®± / ä»»æ„å¯†ç¢¼(è‡³å°‘6ä½)');
    });
  </script>
</body>
</html>
