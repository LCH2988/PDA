<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>帕金森病友權益促進會管理系統</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary-color: #4285f4;
      --secondary-color: #34a853;
      --danger-color: #ea4335;
      --warning-color: #fbbc04;
      --dark-color: #333;
      --light-color: #f8f9fa;
      --sidebar-width: 260px;
      --border-radius: 10px;
      --box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      --transition: all 0.3s ease;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: var(--dark-color);
      background: var(--light-color);
      min-height: 100vh;
    }

    /* Loading Spinner */
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255,255,255,0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }

    .loading-overlay.active {
      display: flex;
    }

    .spinner {
      width: 50px;
      height: 50px;
      border: 5px solid var(--light-color);
      border-top: 5px solid var(--primary-color);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Page Container */
    .page-view {
      display: none;
    }

    .page-view.active {
      display: block;
    }

    /* ==================== PUBLIC PAGES STYLES ==================== */

    /* Header for Public Pages */
    .public-header {
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
      color: white;
      padding: 2rem 0;
      box-shadow: var(--box-shadow);
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .public-header-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 15px;
      cursor: pointer;
    }

    .logo i {
      font-size: 2.5rem;
    }

    .logo h1 {
      font-size: 1.8rem;
      font-weight: 700;
    }

    .nav-menu {
      display: flex;
      gap: 20px;
      list-style: none;
    }

    .nav-menu a {
      color: white;
      text-decoration: none;
      padding: 10px 20px;
      border-radius: var(--border-radius);
      transition: var(--transition);
      font-weight: 500;
      cursor: pointer;
    }

    .nav-menu a:hover {
      background: rgba(255,255,255,0.2);
      transform: translateY(-2px);
    }

    .mobile-menu-btn {
      display: none;
      background: none;
      border: none;
      color: white;
      font-size: 1.5rem;
      cursor: pointer;
    }

    /* Hero Section */
    .hero {
      background: white;
      padding: 4rem 20px;
      text-align: center;
    }

    .hero-content {
      max-width: 1200px;
      margin: 0 auto;
    }

    .hero h2 {
      font-size: 3rem;
      color: var(--primary-color);
      margin-bottom: 1rem;
    }

    .hero p {
      font-size: 1.3rem;
      color: #666;
      margin-bottom: 2rem;
    }

    .cta-buttons {
      display: flex;
      gap: 20px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .btn {
      padding: 15px 40px;
      border: none;
      border-radius: var(--border-radius);
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      text-decoration: none;
      display: inline-block;
    }

    .btn-primary {
      background: var(--primary-color);
      color: white;
    }

    .btn-primary:hover {
      background: #3367d6;
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(66, 133, 244, 0.3);
    }

    .btn-secondary {
      background: white;
      color: var(--primary-color);
      border: 2px solid var(--primary-color);
    }

    .btn-secondary:hover {
      background: var(--primary-color);
      color: white;
    }

    .btn-success {
      background: var(--secondary-color);
      color: white;
    }

    .btn-danger {
      background: var(--danger-color);
      color: white;
    }

    .btn-sm {
      padding: 8px 20px;
      font-size: 0.9rem;
    }

    /* Stats Section */
    .stats-section {
      background: var(--light-color);
      padding: 4rem 20px;
    }

    .stats-container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .section-title {
      text-align: center;
      font-size: 2.5rem;
      color: var(--primary-color);
      margin-bottom: 3rem;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      margin-top: 2rem;
    }

    .stat-card {
      background: white;
      padding: 2rem;
      border-radius: var(--border-radius);
      text-align: center;
      box-shadow: var(--box-shadow);
      transition: var(--transition);
    }

    .stat-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    }

    .stat-icon {
      font-size: 3rem;
      color: var(--primary-color);
      margin-bottom: 1rem;
    }

    .stat-number {
      font-size: 2.5rem;
      font-weight: bold;
      color: var(--primary-color);
      margin-bottom: 0.5rem;
    }

    .stat-label {
      font-size: 1.1rem;
      color: #666;
    }

    /* Features Section */
    .features-section {
      background: white;
      padding: 4rem 20px;
    }

    .features-container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
    }

    .feature-card {
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      padding: 2rem;
      border-radius: var(--border-radius);
      transition: var(--transition);
      cursor: pointer;
    }

    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--box-shadow);
    }

    .feature-icon {
      font-size: 3rem;
      color: var(--primary-color);
      margin-bottom: 1rem;
    }

    .feature-card h3 {
      font-size: 1.5rem;
      color: var(--dark-color);
      margin-bottom: 1rem;
    }

    .feature-card p {
      color: #666;
      line-height: 1.8;
    }

    /* Footer */
    .footer {
      background: var(--dark-color);
      color: white;
      padding: 3rem 20px 1rem;
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 40px;
      margin-bottom: 2rem;
    }

    .footer-section h3 {
      margin-bottom: 1rem;
      color: var(--primary-color);
    }

    .footer-section ul {
      list-style: none;
    }

    .footer-section ul li {
      margin-bottom: 0.5rem;
    }

    .footer-section a {
      color: #ccc;
      text-decoration: none;
      transition: var(--transition);
      cursor: pointer;
    }

    .footer-section a:hover {
      color: white;
      padding-left: 5px;
    }

    .social-links {
      display: flex;
      gap: 15px;
      margin-top: 1rem;
    }

    .social-links a {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      background: rgba(255,255,255,0.1);
      border-radius: 50%;
      color: white;
      transition: var(--transition);
    }

    .social-links a:hover {
      background: var(--primary-color);
      transform: translateY(-3px);
    }

    .footer-bottom {
      text-align: center;
      padding-top: 2rem;
      border-top: 1px solid rgba(255,255,255,0.1);
      color: #ccc;
    }

    /* ==================== MEMBER PAGES STYLES ==================== */

    /* Member Header */
    .member-header {
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
      color: white;
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: var(--box-shadow);
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .menu-toggle {
      background: none;
      border: none;
      color: white;
      font-size: 1.5rem;
      cursor: pointer;
      display: none;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .notification-btn {
      position: relative;
      background: rgba(255,255,255,0.2);
      border: none;
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      transition: background 0.3s;
    }

    .notification-btn:hover {
      background: rgba(255,255,255,0.3);
    }

    .notification-badge {
      position: absolute;
      top: -5px;
      right: -5px;
      background: var(--danger-color);
      color: white;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      font-size: 0.7rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .user-menu {
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
      padding: 8px 15px;
      border-radius: 20px;
      transition: background 0.3s;
    }

    .user-menu:hover {
      background: rgba(255,255,255,0.2);
    }

    .user-avatar {
      width: 35px;
      height: 35px;
      border-radius: 50%;
      background: white;
      color: var(--primary-color);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
    }

    /* Main Layout */
    .main-layout {
      display: flex;
      min-height: calc(100vh - 70px);
    }

    /* Sidebar */
    .sidebar {
      width: var(--sidebar-width);
      background: white;
      box-shadow: 2px 0 10px rgba(0,0,0,0.05);
      padding: 2rem 0;
      transition: transform 0.3s ease;
    }

    .sidebar.hidden {
      transform: translateX(-100%);
    }

    .sidebar-section {
      margin-bottom: 2rem;
    }

    .sidebar-section-title {
      padding: 0 2rem;
      color: #999;
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 0.5rem;
    }

    .sidebar-menu {
      list-style: none;
    }

    .sidebar-menu li {
      margin-bottom: 0.5rem;
    }

    .sidebar-menu a {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 1rem 2rem;
      color: var(--dark-color);
      text-decoration: none;
      transition: all 0.3s;
      border-left: 3px solid transparent;
      cursor: pointer;
    }

    .sidebar-menu a:hover {
      background: var(--light-color);
      border-left-color: var(--primary-color);
      color: var(--primary-color);
    }

    .sidebar-menu a.active {
      background: linear-gradient(90deg, rgba(66, 133, 244, 0.1) 0%, transparent 100%);
      border-left-color: var(--primary-color);
      color: var(--primary-color);
      font-weight: 600;
    }

    .sidebar-menu i {
      width: 20px;
      text-align: center;
    }

    .menu-badge {
      margin-left: auto;
      background: var(--danger-color);
      color: white;
      padding: 2px 8px;
      border-radius: 10px;
      font-size: 0.75rem;
    }

    /* Content */
    .content {
      flex: 1;
      padding: 2rem;
      overflow-y: auto;
    }

    .page-header {
      margin-bottom: 2rem;
    }

    .page-header h1 {
      color: var(--dark-color);
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .page-header p {
      color: #666;
    }

    .breadcrumb {
      display: flex;
      gap: 10px;
      color: #666;
      font-size: 0.9rem;
    }

    .breadcrumb a {
      color: var(--primary-color);
      text-decoration: none;
      cursor: pointer;
    }

    /* Dashboard Cards */
    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .stat-icon.blue {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .stat-icon.green {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    }

    .stat-icon.orange {
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    }

    .stat-icon.red {
      background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
    }

    .stat-content h3 {
      font-size: 1.8rem;
      color: var(--dark-color);
      margin-bottom: 0.3rem;
    }

    .stat-content p {
      color: #666;
      font-size: 0.9rem;
    }

    /* Section */
    .section {
      background: white;
      border-radius: 10px;
      padding: 1.5rem;
      margin-bottom: 2rem;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
      padding-bottom: 1rem;
      border-bottom: 2px solid var(--light-color);
    }

    .section-header h2 {
      color: var(--dark-color);
      font-size: 1.3rem;
    }

    .section-actions {
      display: flex;
      gap: 10px;
    }

    /* Quick Actions */
    .quick-actions {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 1rem;
    }

    .quick-action-btn {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      padding: 1.5rem;
      background: var(--light-color);
      border: 2px solid transparent;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
      text-decoration: none;
      color: var(--dark-color);
    }

    .quick-action-btn:hover {
      background: white;
      border-color: var(--primary-color);
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .quick-action-btn i {
      font-size: 2rem;
      color: var(--primary-color);
    }

    .quick-action-btn span {
      font-weight: 600;
    }

    .quick-action-card {
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
      color: white;
      padding: 1.5rem;
      border-radius: 12px;
      cursor: pointer;
      transition: transform 0.3s, box-shadow 0.3s;
      text-decoration: none;
    }

    .quick-action-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }

    .quick-action-card i {
      font-size: 2rem;
      margin-bottom: 1rem;
      display: block;
    }

    .quick-action-card h3 {
      font-size: 1.1rem;
      margin-bottom: 0.5rem;
    }

    .quick-action-card p {
      font-size: 0.9rem;
      opacity: 0.9;
    }

    /* Activity List */
    .activity-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .activity-item {
      display: flex;
      gap: 1rem;
      padding: 1rem;
      border: 1px solid #eee;
      border-radius: 8px;
      transition: all 0.3s;
    }

    .activity-item:hover {
      border-color: var(--primary-color);
      box-shadow: 0 2px 10px rgba(66, 133, 244, 0.1);
    }

    .activity-date {
      min-width: 80px;
      text-align: center;
      padding: 1rem;
      background: var(--light-color);
      border-radius: 8px;
    }

    .activity-date .day {
      font-size: 2rem;
      font-weight: bold;
      color: var(--primary-color);
      line-height: 1;
    }

    .activity-date .month {
      font-size: 0.9rem;
      color: #666;
      text-transform: uppercase;
    }

    .activity-info {
      flex: 1;
    }

    .activity-info h3 {
      color: var(--dark-color);
      margin-bottom: 0.5rem;
    }

    .activity-meta {
      display: flex;
      gap: 1.5rem;
      color: #666;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .activity-meta i {
      margin-right: 5px;
      color: var(--primary-color);
    }

    .activity-status {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .activity-status.registered {
      background: #e8f5e9;
      color: #2e7d32;
    }

    .activity-status.pending {
      background: #fff3e0;
      color: #f57c00;
    }

    .activity-actions {
      display: flex;
      gap: 0.5rem;
      align-items: center;
    }

    /* Profile Card */
    .profile-card {
      display: flex;
      gap: 2rem;
      align-items: start;
    }

    .profile-avatar-large {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3rem;
      font-weight: 600;
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    }

    .profile-info {
      flex: 1;
    }

    .profile-info h2 {
      color: var(--dark-color);
      margin-bottom: 0.5rem;
    }

    .profile-info .member-id {
      color: #666;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .profile-details {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .profile-detail-item {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .profile-detail-item i {
      color: var(--primary-color);
      width: 20px;
    }

    .profile-detail-item span {
      color: #666;
    }

    /* Notifications */
    .notification-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .notification-item {
      display: flex;
      gap: 1rem;
      padding: 1rem;
      background: var(--light-color);
      border-radius: 8px;
      border-left: 3px solid var(--primary-color);
    }

    .notification-item.unread {
      background: #e3f2fd;
    }

    .notification-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--primary-color);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .notification-content {
      flex: 1;
    }

    .notification-content h4 {
      color: var(--dark-color);
      margin-bottom: 0.3rem;
      font-size: 0.95rem;
    }

    .notification-content p {
      color: #666;
      font-size: 0.85rem;
      margin-bottom: 0.3rem;
    }

    .notification-time {
      color: #999;
      font-size: 0.8rem;
    }

    /* Table */
    .table-container {
      overflow-x: auto;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    table thead {
      background: var(--light-color);
    }

    table th {
      padding: 1rem;
      text-align: left;
      font-weight: 600;
      color: var(--dark-color);
      border-bottom: 2px solid #ddd;
    }

    table td {
      padding: 1rem;
      border-bottom: 1px solid #eee;
      color: #666;
    }

    table tbody tr {
      transition: background 0.3s;
    }

    table tbody tr:hover {
      background: var(--light-color);
    }

    .status-badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .status-badge.active {
      background: #e8f5e9;
      color: #2e7d32;
    }

    .status-badge.inactive {
      background: #ffebee;
      color: #c62828;
    }

    .status-badge.pending {
      background: #fff3e0;
      color: #f57c00;
    }

    /* Timeline */
    .timeline {
      position: relative;
      padding-left: 2rem;
    }

    .timeline::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 2px;
      background: var(--light-color);
    }

    .timeline-item {
      position: relative;
      margin-bottom: 1.5rem;
    }

    .timeline-item::before {
      content: '';
      position: absolute;
      left: -2.5rem;
      top: 5px;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: var(--primary-color);
      border: 3px solid white;
      box-shadow: 0 0 0 2px var(--primary-color);
    }

    .timeline-content {
      background: var(--light-color);
      padding: 1rem;
      border-radius: 8px;
    }

    .timeline-content h4 {
      color: var(--dark-color);
      margin-bottom: 0.5rem;
    }

    .timeline-content p {
      color: #666;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .timeline-time {
      color: #999;
      font-size: 0.85rem;
    }

    /* Charts */
    .chart-container {
      position: relative;
      height: 300px;
      margin-top: 1rem;
    }

    .chart-placeholder {
      width: 100%;
      height: 100%;
      background: var(--light-color);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #999;
    }

    /* Empty State */
    .empty-state {
      text-align: center;
      padding: 3rem;
      color: #999;
    }

    .empty-state i {
      font-size: 4rem;
      margin-bottom: 1rem;
      opacity: 0.3;
    }

    .empty-state h3 {
      margin-bottom: 0.5rem;
    }

    /* ==================== ACTIVITIES PAGE STYLES ==================== */

    .activities-hero {
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
      padding: 3rem 2rem;
      text-align: center;
    }

    .activities-hero h1 {
      font-size: 2.5rem;
      color: var(--dark-color);
      margin-bottom: 1rem;
    }

    .activities-hero p {
      font-size: 1.2rem;
      color: #666;
    }

    .activities-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem;
    }

    .filter-section {
      background: white;
      padding: 1.5rem;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      margin-bottom: 2rem;
    }

    .filter-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .filter-header h2 {
      color: var(--dark-color);
      font-size: 1.2rem;
    }

    .filter-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
    }

    .filter-group {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .filter-group label {
      color: #666;
      font-size: 0.9rem;
      font-weight: 500;
    }

    .filter-group select,
    .filter-group input {
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 0.95rem;
    }

    .filter-actions {
      display: flex;
      gap: 1rem;
      margin-top: 1rem;
    }

    .view-controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
    }

    .view-toggle {
      display: flex;
      gap: 0.5rem;
      background: white;
      padding: 0.5rem;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }

    .view-toggle button {
      padding: 8px 15px;
      border: none;
      background: transparent;
      color: #666;
      cursor: pointer;
      border-radius: 5px;
      transition: all 0.3s;
    }

    .view-toggle button.active {
      background: var(--primary-color);
      color: white;
    }

    .results-info {
      color: #666;
      font-size: 0.95rem;
    }

    .activities-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 2rem;
      margin-bottom: 2rem;
    }

    .activity-card {
      background: white;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      transition: all 0.3s;
      cursor: pointer;
    }

    .activity-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    }

    .activity-image {
      width: 100%;
      height: 200px;
      object-fit: cover;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      position: relative;
    }

    .activity-badge {
      position: absolute;
      top: 15px;
      right: 15px;
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 600;
      backdrop-filter: blur(10px);
    }

    .badge-hot {
      background: rgba(234, 67, 53, 0.9);
      color: white;
    }

    .badge-new {
      background: rgba(52, 168, 83, 0.9);
      color: white;
    }

    .badge-full {
      background: rgba(158, 158, 158, 0.9);
      color: white;
    }

    .activity-content {
      padding: 1.5rem;
    }

    .activity-category {
      display: inline-block;
      padding: 4px 12px;
      background: rgba(66, 133, 244, 0.1);
      color: var(--primary-color);
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
      margin-bottom: 1rem;
    }

    .activity-title {
      font-size: 1.3rem;
      color: var(--dark-color);
      margin-bottom: 0.8rem;
      font-weight: 600;
    }

    .activity-description {
      color: #666;
      font-size: 0.9rem;
      line-height: 1.6;
      margin-bottom: 1rem;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .activity-meta-item {
      display: flex;
      align-items: center;
      gap: 10px;
      color: #666;
      font-size: 0.9rem;
    }

    .activity-meta-item i {
      color: var(--primary-color);
      width: 20px;
    }

    .activity-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-top: 1rem;
      border-top: 1px solid #eee;
    }

    .participants-info {
      display: flex;
      align-items: center;
      gap: 8px;
      color: #666;
      font-size: 0.9rem;
    }

    .progress-bar {
      width: 100px;
      height: 6px;
      background: #eee;
      border-radius: 3px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: var(--secondary-color);
      transition: width 0.3s;
    }

    /* Pagination */
    .pagination {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      margin-top: 3rem;
    }

    .pagination button {
      padding: 10px 15px;
      border: 1px solid #ddd;
      background: white;
      color: var(--dark-color);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .pagination button:hover:not(:disabled) {
      background: var(--primary-color);
      color: white;
      border-color: var(--primary-color);
    }

    .pagination button.active {
      background: var(--primary-color);
      color: white;
      border-color: var(--primary-color);
    }

    .pagination button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* ==================== REGISTER PAGE STYLES ==================== */

    .register-page {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .register-container {
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      max-width: 800px;
      width: 100%;
      overflow: hidden;
    }

    .register-header {
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
      color: white;
      padding: 2rem;
      text-align: center;
    }

    .register-header h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .register-header p {
      opacity: 0.9;
    }

    .register-body {
      padding: 2rem;
    }

    .progress-bar-container {
      display: flex;
      justify-content: space-between;
      margin-bottom: 2rem;
      position: relative;
    }

    .progress-bar-container::before {
      content: '';
      position: absolute;
      top: 20px;
      left: 0;
      right: 0;
      height: 2px;
      background: #ddd;
      z-index: 0;
    }

    .progress-bar-fill {
      position: absolute;
      top: 20px;
      left: 0;
      height: 2px;
      background: var(--primary-color);
      transition: width 0.3s ease;
      z-index: 1;
    }

    .progress-step {
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      z-index: 2;
    }

    .progress-step-circle {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: white;
      border: 2px solid #ddd;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 0.5rem;
      transition: all 0.3s ease;
    }

    .progress-step.active .progress-step-circle {
      background: var(--primary-color);
      border-color: var(--primary-color);
      color: white;
    }

    .progress-step.completed .progress-step-circle {
      background: var(--secondary-color);
      border-color: var(--secondary-color);
      color: white;
    }

    .progress-step-label {
      font-size: 0.9rem;
      color: #666;
    }

    .form-step {
      display: none;
    }

    .form-step.active {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      color: #333;
      font-weight: 500;
    }

    .form-group label .required {
      color: var(--danger-color);
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 1rem;
      transition: border-color 0.3s ease;
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--primary-color);
    }

    .form-group textarea {
      resize: vertical;
      min-height: 100px;
    }

    .form-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
    }

    .checkbox-group {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 1rem;
    }

    .checkbox-group input[type="checkbox"] {
      width: auto;
    }

    .form-actions {
      display: flex;
      justify-content: space-between;
      gap: 1rem;
      margin-top: 2rem;
    }

    .error-message {
      color: var(--danger-color);
      font-size: 0.9rem;
      margin-top: 0.5rem;
      display: none;
    }

    .form-group.error input,
    .form-group.error select,
    .form-group.error textarea {
      border-color: var(--danger-color);
    }

    .form-group.error .error-message {
      display: block;
    }

    .privacy-policy {
      max-height: 200px;
      overflow-y: auto;
      padding: 1rem;
      background: #f8f9fa;
      border-radius: 8px;
      margin-bottom: 1rem;
      font-size: 0.9rem;
      line-height: 1.6;
    }

    .summary-section {
      background: #f8f9fa;
      padding: 1.5rem;
      border-radius: 8px;
      margin-bottom: 1rem;
    }

    .summary-section h3 {
      color: var(--primary-color);
      margin-bottom: 1rem;
    }

    .summary-item {
      display: flex;
      justify-content: space-between;
      padding: 0.5rem 0;
      border-bottom: 1px solid #ddd;
    }

    .summary-item:last-child {
      border-bottom: none;
    }

    .summary-label {
      color: #666;
    }

    .summary-value {
      font-weight: 600;
      color: #333;
    }

    .alert {
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
    }

    .alert-success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }

    .alert-error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 10000;
      justify-content: center;
      align-items: center;
      overflow-y: auto;
      padding: 2rem;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background: white;
      border-radius: 15px;
      max-width: 800px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      position: relative;
    }

    .modal-image {
      width: 100%;
      height: 300px;
      object-fit: cover;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    }

    .modal-body {
      padding: 2rem;
    }

    .close-modal {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 40px;
      height: 40px;
      background: rgba(255,255,255,0.9);
      border: none;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.5rem;
      color: var(--dark-color);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s;
      z-index: 10;
    }

    .close-modal:hover {
      background: white;
      transform: rotate(90deg);
    }

    .modal-header h2 {
      color: var(--dark-color);
      font-size: 2rem;
      margin-bottom: 1rem;
    }

    .modal-meta {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
      margin: 2rem 0;
      padding: 1.5rem;
      background: var(--light-color);
      border-radius: 10px;
    }

    .modal-meta-item {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .modal-meta-item i {
      color: var(--primary-color);
      font-size: 1.2rem;
    }

    .modal-meta-content h4 {
      font-size: 0.85rem;
      color: #666;
      margin-bottom: 0.3rem;
    }

    .modal-meta-content p {
      color: var(--dark-color);
      font-weight: 600;
    }

    .modal-section {
      margin-bottom: 2rem;
    }

    .modal-section h3 {
      color: var(--dark-color);
      margin-bottom: 1rem;
      font-size: 1.2rem;
    }

    .modal-section p {
      color: #666;
      line-height: 1.8;
    }

    .modal-section ul {
      list-style: none;
      padding-left: 0;
    }

    .modal-section ul li {
      padding: 0.5rem 0;
      color: #666;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .modal-section ul li i {
      color: var(--secondary-color);
    }

    .modal-footer {
      display: flex;
      gap: 1rem;
      padding-top: 2rem;
      border-top: 2px solid var(--light-color);
    }

    .modal-footer .btn {
      flex: 1;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .nav-menu {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: var(--primary-color);
        flex-direction: column;
        padding: 20px;
      }

      .nav-menu.active {
        display: flex;
      }

      .mobile-menu-btn {
        display: block;
      }

      .menu-toggle {
        display: block;
      }

      .sidebar {
        position: fixed;
        left: 0;
        top: 70px;
        height: calc(100vh - 70px);
        z-index: 999;
        transform: translateX(-100%);
      }

      .sidebar.active {
        transform: translateX(0);
      }

      .content {
        padding: 1rem;
      }

      .hero h2 {
        font-size: 2rem;
      }

      .hero p {
        font-size: 1.1rem;
      }

      .cta-buttons {
        flex-direction: column;
      }

      .btn {
        width: 100%;
      }

      .stats-grid,
      .features-grid,
      .dashboard-grid,
      .activities-grid {
        grid-template-columns: 1fr;
      }

      .profile-card {
        flex-direction: column;
        align-items: center;
        text-align: center;
      }

      .activity-item {
        flex-direction: column;
      }

      .activity-actions {
        width: 100%;
        justify-content: space-between;
      }

      .view-controls {
        flex-direction: column;
        gap: 1rem;
      }

      .modal-body {
        padding: 1rem;
      }

      .modal-meta {
        grid-template-columns: 1fr;
      }

      .modal-footer {
        flex-direction: column;
      }

      .register-body {
        padding: 1rem;
      }

      .form-row {
        grid-template-columns: 1fr;
      }

      .form-actions {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <!-- Loading Overlay -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="spinner"></div>
  </div>

  <!-- ==================== HOME PAGE ==================== -->
  <div id="homePage" class="page-view active">
    <!-- Header -->
    <header class="public-header">
      <div class="public-header-content">
        <div class="logo" onclick="navigateTo('home')">
          <i class="fas fa-heartbeat"></i>
          <div>
            <h1>帕金森病友權益促進會</h1>
            <p style="font-size: 0.9rem; opacity: 0.9;">關懷、支持、共同成長</p>
          </div>
        </div>
        <nav>
          <ul class="nav-menu" id="navMenu">
            <li><a onclick="navigateTo('home')"><i class="fas fa-home"></i> 首頁</a></li>
            <li><a onclick="navigateTo('activities')"><i class="fas fa-calendar-alt"></i> 活動</a></li>
            <li><a onclick="navigateTo('login')"><i class="fas fa-sign-in-alt"></i> 登入</a></li>
          </ul>
          <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
            <i class="fas fa-bars"></i>
          </button>
        </nav>
      </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
      <div class="hero-content">
        <h2>攜手同行，溫暖相伴</h2>
        <p>為帕金森病友提供全方位支持與關懷服務</p>
        <div class="cta-buttons">
          <a onclick="navigateTo('register')" class="btn btn-primary">
            <i class="fas fa-user-plus"></i> 立即加入
          </a>
          <a onclick="navigateTo('activities')" class="btn btn-secondary">
            <i class="fas fa-calendar-check"></i> 查看活動
          </a>
        </div>
      </div>
    </section>

    <!-- Stats Section -->
    <section class="stats-section">
      <div class="stats-container">
        <h2 class="section-title">我們的成果</h2>
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon"><i class="fas fa-users"></i></div>
            <div class="stat-number" id="memberCount">1250</div>
            <div class="stat-label">會員總數</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon"><i class="fas fa-calendar-check"></i></div>
            <div class="stat-number" id="activityCount">156</div>
            <div class="stat-label">舉辦活動</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon"><i class="fas fa-user-friends"></i></div>
            <div class="stat-number" id="participantCount">3420</div>
            <div class="stat-label">參與人次</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon"><i class="fas fa-heart"></i></div>
            <div class="stat-number" id="satisfactionRate">98</div>
            <div class="stat-label">滿意度 %</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="features-section">
      <div class="features-container">
        <h2 class="section-title">我們的服務</h2>
        <div class="features-grid">
          <div class="feature-card" onclick="navigateTo('member')">
            <div class="feature-icon"><i class="fas fa-user-circle"></i></div>
            <h3>會員服務</h3>
            <p>提供完善的會員管理系統，享受專屬權益與個人化服務</p>
          </div>
          <div class="feature-card" onclick="navigateTo('activities')">
            <div class="feature-icon"><i class="fas fa-calendar-alt"></i></div>
            <h3>活動報名</h3>
            <p>定期舉辦病友聚會、醫療講座、復健課程等多元活動</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon"><i class="fas fa-book-medical"></i></div>
            <h3>醫療資源</h3>
            <p>提供最新醫療資訊、用藥指導與照護知識</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon"><i class="fas fa-comments"></i></div>
            <h3>心理支持</h3>
            <p>專業心理諮詢服務與病友互助支持團體</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon"><i class="fas fa-dumbbell"></i></div>
            <h3>復健指導</h3>
            <p>專業物理治療師指導，提供個人化復健計畫</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon"><i class="fas fa-home"></i></div>
            <h3>家屬支持</h3>
            <p>為照護者提供支持與指導，共同面對挑戰</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-content">
        <div class="footer-section">
          <h3>關於我們</h3>
          <p>帕金森病友權益促進會致力於為病友提供全方位支持與關懷，促進病友權益，提升生活品質。</p>
          <div class="social-links">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-line"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-youtube"></i></a>
          </div>
        </div>
        <div class="footer-section">
          <h3>快速連結</h3>
          <ul>
            <li><a onclick="navigateTo('home')">關於我們</a></li>
            <li><a onclick="navigateTo('activities')">活動資訊</a></li>
            <li><a onclick="navigateTo('login')">會員登入</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h3>聯絡資訊</h3>
          <ul>
            <li><i class="fas fa-phone"></i> (02) 1234-5678</li>
            <li><i class="fas fa-envelope"></i> info@parkinsons.org.tw</li>
            <li><i class="fas fa-map-marker-alt"></i> 台北市中正區XX路XX號</li>
            <li><i class="fas fa-clock"></i> 週一至週五 9:00-17:00</li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2024 帕金森病友權益促進會. All rights reserved.</p>
      </div>
    </footer>
  </div>

  <!-- ==================== MEMBER DASHBOARD PAGE ==================== -->
  <div id="memberPage" class="page-view">
    <!-- Header -->
    <header class="member-header">
      <div class="header-left">
        <button class="menu-toggle" onclick="toggleSidebar()">
          <i class="fas fa-bars"></i>
        </button>
        <div class="logo">
          <i class="fas fa-heartbeat"></i>
          <span>帕金森病友權益促進會</span>
        </div>
      </div>
      <div class="header-right">
        <button class="notification-btn">
          <i class="fas fa-bell"></i>
          <span class="notification-badge" id="memberNotificationCount">3</span>
        </button>
        <div class="user-menu" onclick="toggleUserMenu()">
          <div class="user-avatar" id="memberUserAvatar">王</div>
          <span id="memberUserName">王小明</span>
          <i class="fas fa-chevron-down"></i>
        </div>
      </div>
    </header>

    <!-- Main Layout -->
    <div class="main-layout">
      <!-- Sidebar -->
      <aside class="sidebar" id="memberSidebar">
        <ul class="sidebar-menu">
          <li>
            <a onclick="showMemberSection('dashboard')" class="active">
              <i class="fas fa-home"></i>
              <span>儀表板</span>
            </a>
          </li>
          <li>
            <a onclick="showMemberSection('profile')">
              <i class="fas fa-user"></i>
              <span>個人資料</span>
            </a>
          </li>
          <li>
            <a onclick="showMemberSection('my-activities')">
              <i class="fas fa-calendar-alt"></i>
              <span>我的活動</span>
            </a>
          </li>
          <li>
            <a onclick="showMemberSection('notifications')">
              <i class="fas fa-bell"></i>
              <span>通知中心</span>
            </a>
          </li>
          <li>
            <a onclick="showMemberSection('settings')">
              <i class="fas fa-cog"></i>
              <span>設定</span>
            </a>
          </li>
          <li>
            <a onclick="logout()">
              <i class="fas fa-sign-out-alt"></i>
              <span>登出</span>
            </a>
          </li>
        </ul>
      </aside>

      <!-- Content -->
      <main class="content">
        <!-- Dashboard Section -->
        <div id="memberDashboard" class="member-section active">
          <div class="page-header">
            <h1>👋 歡迎回來，<span id="memberWelcomeName">王小明</span></h1>
            <p>今天是 <span id="memberCurrentDate"></span></p>
          </div>

          <!-- Stats Cards -->
          <div class="dashboard-grid">
            <div class="stat-card">
              <div class="stat-icon blue">
                <i class="fas fa-calendar-check"></i>
              </div>
              <div class="stat-content">
                <h3 id="memberUpcomingActivities">3</h3>
                <p>即將參加的活動</p>
              </div>
            </div>

            <div class="stat-card">
              <div class="stat-icon green">
                <i class="fas fa-check-circle"></i>
              </div>
              <div class="stat-content">
                <h3 id="memberCompletedActivities">12</h3>
                <p>已參加活動</p>
              </div>
            </div>

            <div class="stat-card">
              <div class="stat-icon orange">
                <i class="fas fa-bell"></i>
              </div>
              <div class="stat-content">
                <h3 id="memberUnreadNotifications">5</h3>
                <p>未讀通知</p>
              </div>
            </div>

            <div class="stat-card">
              <div class="stat-icon red">
                <i class="fas fa-calendar-day"></i>
              </div>
              <div class="stat-content">
                <h3 id="memberDays">365</h3>
                <p>會員天數</p>
              </div>
            </div>
          </div>

          <!-- Quick Actions -->
          <div class="section">
            <div class="section-header">
              <h2><i class="fas fa-bolt"></i> 快速操作</h2>
            </div>
            <div class="quick-actions">
              <a onclick="navigateTo('activities')" class="quick-action-btn">
                <i class="fas fa-calendar-plus"></i>
                <span>報名活動</span>
              </a>
              <a onclick="showMemberSection('profile')" class="quick-action-btn">
                <i class="fas fa-user-edit"></i>
                <span>編輯資料</span>
              </a>
              <a onclick="showMemberSection('my-activities')" class="quick-action-btn">
                <i class="fas fa-notes-medical"></i>
                <span>我的活動</span>
              </a>
              <a onclick="alert('聯絡客服功能')" class="quick-action-btn">
                <i class="fas fa-headset"></i>
                <span>聯絡客服</span>
              </a>
            </div>
          </div>

          <!-- Upcoming Activities -->
          <div class="section">
            <div class="section-header">
              <h2><i class="fas fa-calendar-alt"></i> 即將參加的活動</h2>
              <a onclick="showMemberSection('my-activities')" class="btn btn-secondary btn-sm">
                查看全部
              </a>
            </div>
            <div class="activity-list" id="memberUpcomingActivityList">
              <div class="loading">
                <div class="spinner"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Profile Section -->
        <div id="memberProfile" class="member-section" style="display: none;">
          <div class="page-header">
            <h1><i class="fas fa-user"></i> 個人資料</h1>
            <p>管理您的個人資訊</p>
          </div>

          <div class="section">
            <div class="profile-card">
              <div class="profile-avatar-large">王</div>
              <div class="profile-info">
                <h2>王小明</h2>
                <p class="member-id">會員編號：M2024001</p>
                <button class="btn btn-primary" onclick="alert('編輯資料功能')">
                  <i class="fas fa-edit"></i> 編輯資料
                </button>
                <div class="profile-details">
                  <div class="profile-detail-item">
                    <i class="fas fa-envelope"></i>
                    <span>wang@example.com</span>
                  </div>
                  <div class="profile-detail-item">
                    <i class="fas fa-phone"></i>
                    <span>0912-345-678</span>
                  </div>
                  <div class="profile-detail-item">
                    <i class="fas fa-calendar"></i>
                    <span>加入日期：2024-01-01</span>
                  </div>
                  <div class="profile-detail-item">
                    <i class="fas fa-check-circle"></i>
                    <span>狀態：正常</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- My Activities Section -->
        <div id="memberMyActivities" class="member-section" style="display: none;">
          <div class="page-header">
            <h1><i class="fas fa-calendar-alt"></i> 我的活動</h1>
            <p>查看您報名的所有活動</p>
          </div>

          <div class="section">
            <div class="section-header">
              <h2>活動列表</h2>
              <a onclick="navigateTo('activities')" class="btn btn-primary btn-sm">
                <i class="fas fa-plus"></i> 報名新活動
              </a>
            </div>
            <div class="activity-list" id="memberAllActivityList">
              <div class="loading">
                <div class="spinner"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Notifications Section -->
        <div id="memberNotifications" class="member-section" style="display: none;">
          <div class="page-header">
            <h1><i class="fas fa-bell"></i> 通知中心</h1>
            <p>查看所有通知訊息</p>
          </div>

          <div class="section">
            <div class="section-header">
              <h2>所有通知</h2>
              <button class="btn btn-secondary btn-sm" onclick="alert('全部標為已讀')">
                <i class="fas fa-check-double"></i> 全部標為已讀
              </button>
            </div>
            <div class="notification-list" id="memberAllNotificationList">
              <div class="loading">
                <div class="spinner"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Settings Section -->
        <div id="memberSettings" class="member-section" style="display: none;">
          <div class="page-header">
            <h1><i class="fas fa-cog"></i> 設定</h1>
            <p>管理您的帳號設定</p>
          </div>

          <div class="section">
            <h2>通知設定</h2>
            <div style="margin-top: 1rem;">
              <label style="display: flex; align-items: center; gap: 10px; margin-bottom: 1rem;">
                <input type="checkbox" checked>
                <span>接收電子郵件通知</span>
              </label>
              <label style="display: flex; align-items: center; gap: 10px; margin-bottom: 1rem;">
                <input type="checkbox" checked>
                <span>接收 LINE 通知</span>
              </label>
              <label style="display: flex; align-items: center; gap: 10px; margin-bottom: 1rem;">
                <input type="checkbox" checked>
                <span>接收活動提醒</span>
              </label>
              <button class="btn btn-primary">儲存設定</button>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>

  <!-- ==================== ADMIN PAGE ==================== -->
  <div id="adminPage" class="page-view">
    <!-- Header -->
    <header class="member-header">
      <div class="header-left">
        <button class="menu-toggle" onclick="toggleSidebar()">
          <i class="fas fa-bars"></i>
        </button>
        <div class="logo">
          <i class="fas fa-heartbeat"></i>
          <span>管理後台</span>
        </div>
      </div>
      <div class="header-right">
        <button class="notification-btn">
          <i class="fas fa-bell"></i>
          <span class="notification-badge">5</span>
        </button>
        <div class="user-menu">
          <div class="user-avatar">管</div>
          <span>管理員</span>
          <i class="fas fa-chevron-down"></i>
        </div>
      </div>
    </header>

    <!-- Main Layout -->
    <div class="main-layout">
      <!-- Sidebar -->
      <aside class="sidebar" id="adminSidebar">
        <div class="sidebar-section">
          <div class="sidebar-section-title">主要功能</div>
          <ul class="sidebar-menu">
            <li>
              <a onclick="showAdminSection('dashboard')" class="active">
                <i class="fas fa-home"></i>
                <span>儀表板</span>
              </a>
            </li>
            <li>
              <a onclick="showAdminSection('members')">
                <i class="fas fa-users"></i>
                <span>會員管理</span>
                <span class="menu-badge">1250</span>
              </a>
            </li>
            <li>
              <a onclick="showAdminSection('activities')">
                <i class="fas fa-calendar-alt"></i>
                <span>活動管理</span>
              </a>
            </li>
          </ul>
        </div>

        <div class="sidebar-section">
          <div class="sidebar-section-title">系統設定</div>
          <ul class="sidebar-menu">
            <li>
              <a onclick="showAdminSection('settings')">
                <i class="fas fa-cog"></i>
                <span>系統設定</span>
              </a>
            </li>
            <li>
              <a onclick="logout()">
                <i class="fas fa-sign-out-alt"></i>
                <span>登出</span>
              </a>
            </li>
          </ul>
        </div>
      </aside>

      <!-- Content -->
      <main class="content">
        <!-- Admin Dashboard -->
        <div id="adminDashboard" class="admin-section active">
          <div class="page-header">
            <h1>📊 儀表板總覽</h1>
            <div class="breadcrumb">
              <a onclick="showAdminSection('dashboard')">首頁</a>
              <span>/</span>
              <span>儀表板</span>
            </div>
          </div>

          <!-- Stats Cards -->
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-icon blue">
                <i class="fas fa-users"></i>
              </div>
              <div class="stat-content">
                <h3>1,250</h3>
                <p>總會員數</p>
              </div>
            </div>

            <div class="stat-card">
              <div class="stat-icon green">
                <i class="fas fa-calendar-check"></i>
              </div>
              <div class="stat-content">
                <h3>156</h3>
                <p>舉辦活動</p>
              </div>
            </div>

            <div class="stat-card">
              <div class="stat-icon orange">
                <i class="fas fa-user-friends"></i>
              </div>
              <div class="stat-content">
                <h3>3,420</h3>
                <p>參與人次</p>
              </div>
            </div>

            <div class="stat-card">
              <div class="stat-icon red">
                <i class="fas fa-dollar-sign"></i>
              </div>
              <div class="stat-content">
                <h3>$2.5M</h3>
                <p>總收入</p>
              </div>
            </div>
          </div>

          <!-- Quick Actions -->
          <div class="section">
            <div class="section-header">
              <h2><i class="fas fa-bolt"></i> 快速操作</h2>
            </div>
            <div class="quick-actions">
              <a onclick="alert('新增會員')" class="quick-action-card">
                <i class="fas fa-user-plus"></i>
                <h3>新增會員</h3>
                <p>註冊新會員資料</p>
              </a>
              <a onclick="alert('新增活動')" class="quick-action-card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                <i class="fas fa-calendar-plus"></i>
                <h3>新增活動</h3>
                <p>建立新的活動</p>
              </a>
              <a onclick="alert('發送通知')" class="quick-action-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                <i class="fas fa-paper-plane"></i>
                <h3>發送通知</h3>
                <p>通知所有會員</p>
              </a>
              <a onclick="alert('匯出報表')" class="quick-action-card" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                <i class="fas fa-file-export"></i>
                <h3>匯出報表</h3>
                <p>下載統計報表</p>
              </a>
            </div>
          </div>
        </div>

        <!-- Admin Members -->
        <div id="adminMembers" class="admin-section" style="display: none;">
          <div class="page-header">
            <h1>👥 會員管理</h1>
          </div>

          <div class="section">
            <div class="section-header">
              <h2>會員列表</h2>
              <button class="btn btn-primary btn-sm" onclick="alert('新增會員')">
                <i class="fas fa-plus"></i> 新增會員
              </button>
            </div>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th>會員編號</th>
                    <th>姓名</th>
                    <th>電子郵件</th>
                    <th>加入日期</th>
                    <th>狀態</th>
                    <th>操作</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>M2024001</td>
                    <td>王小明</td>
                    <td>wang@example.com</td>
                    <td>2024-01-01</td>
                    <td><span class="status-badge active">正常</span></td>
                    <td>
                      <button class="btn btn-primary btn-sm"><i class="fas fa-eye"></i></button>
                      <button class="btn btn-secondary btn-sm"><i class="fas fa-edit"></i></button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Admin Activities -->
        <div id="adminActivities" class="admin-section" style="display: none;">
          <div class="page-header">
            <h1>📅 活動管理</h1>
          </div>

          <div class="section">
            <div class="section-header">
              <h2>活動列表</h2>
              <button class="btn btn-primary btn-sm" onclick="alert('新增活動')">
                <i class="fas fa-plus"></i> 新增活動
              </button>
            </div>
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th>活動名稱</th>
                    <th>日期</th>
                    <th>地點</th>
                    <th>報名人數</th>
                    <th>狀態</th>
                    <th>操作</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>帕金森病友健康講座</td>
                    <td>2024-11-15</td>
                    <td>台北市中正區</td>
                    <td>35/50</td>
                    <td><span class="status-badge active">報名中</span></td>
                    <td>
                      <button class="btn btn-primary btn-sm"><i class="fas fa-eye"></i></button>
                      <button class="btn btn-secondary btn-sm"><i class="fas fa-edit"></i></button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>

  <!-- ==================== ACTIVITIES PAGE ==================== -->
  <div id="activitiesPage" class="page-view">
    <header class="public-header">
      <div class="public-header-content">
        <div class="logo" onclick="navigateTo('home')">
          <i class="fas fa-heartbeat"></i>
          <span>帕金森病友權益促進會</span>
        </div>
        <nav class="nav-links">
          <a onclick="navigateTo('home')"><i class="fas fa-home"></i> 首頁</a>
          <a onclick="navigateTo('activities')"><i class="fas fa-calendar-alt"></i> 活動</a>
          <a onclick="navigateTo('member')"><i class="fas fa-user"></i> 會員中心</a>
        </nav>
      </div>
    </header>

    <section class="activities-hero">
      <h1><i class="fas fa-calendar-star"></i> 活動列表</h1>
      <p>探索並參加我們精心規劃的各項活動</p>
    </section>

    <div class="activities-container">
      <div class="view-controls">
        <div class="results-info">
          找到 <strong id="activitiesResultsCount">6</strong> 個活動
        </div>
      </div>

      <div class="activities-grid" id="activitiesGrid">
        <!-- Activities will be loaded here -->
      </div>
    </div>
  </div>

  <!-- ==================== REGISTER PAGE ==================== -->
  <div id="registerPage" class="page-view register-page">
    <div class="register-container">
      <div class="register-header">
        <h1><i class="fas fa-user-plus"></i> 會員註冊</h1>
        <p>加入我們的大家庭，一起互相支持</p>
      </div>

      <div class="register-body">
        <div class="progress-bar-container">
          <div class="progress-bar-fill" id="registerProgressBarFill" style="width: 0%"></div>
          <div class="progress-step active" data-step="1">
            <div class="progress-step-circle">
              <i class="fas fa-user"></i>
            </div>
            <div class="progress-step-label">基本資料</div>
          </div>
          <div class="progress-step" data-step="2">
            <div class="progress-step-circle">
              <i class="fas fa-file-medical"></i>
            </div>
            <div class="progress-step-label">醫療資訊</div>
          </div>
          <div class="progress-step" data-step="3">
            <div class="progress-step-circle">
              <i class="fas fa-shield-alt"></i>
            </div>
            <div class="progress-step-label">隱私設定</div>
          </div>
          <div class="progress-step" data-step="4">
            <div class="progress-step-circle">
              <i class="fas fa-check"></i>
            </div>
            <div class="progress-step-label">確認送出</div>
          </div>
        </div>

        <form id="registerForm">
          <!-- Step 1 -->
          <div class="form-step active" data-step="1">
            <h2 style="margin-bottom: 1.5rem; color: var(--primary-color);">
              <i class="fas fa-user"></i> 基本資料
            </h2>
            
            <div class="form-group">
              <label>姓名 <span class="required">*</span></label>
              <input type="text" id="registerName" required placeholder="請輸入您的姓名">
              <div class="error-message">請輸入姓名</div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>性別 <span class="required">*</span></label>
                <select id="registerGender" required>
                  <option value="">請選擇</option>
                  <option value="male">男性</option>
                  <option value="female">女性</option>
                </select>
              </div>

              <div class="form-group">
                <label>出生日期 <span class="required">*</span></label>
                <input type="date" id="registerBirthDate" required>
              </div>
            </div>

            <div class="form-group">
              <label>電子郵件 <span class="required">*</span></label>
              <input type="email" id="registerEmail" required placeholder="example@email.com">
            </div>

            <div class="form-group">
              <label>手機號碼 <span class="required">*</span></label>
              <input type="tel" id="registerPhone" required placeholder="0912345678">
            </div>
          </div>

          <!-- Step 2 -->
          <div class="form-step" data-step="2">
            <h2 style="margin-bottom: 1.5rem; color: var(--primary-color);">
              <i class="fas fa-file-medical"></i> 醫療資訊
            </h2>

            <div class="form-group">
              <label>確診日期</label>
              <input type="date" id="registerDiagnosisDate">
            </div>

            <div class="form-group">
              <label>目前用藥</label>
              <textarea id="registerMedications" placeholder="請列出您目前使用的藥物"></textarea>
            </div>
          </div>

          <!-- Step 3 -->
          <div class="form-step" data-step="3">
            <h2 style="margin-bottom: 1.5rem; color: var(--primary-color);">
              <i class="fas fa-shield-alt"></i> 隱私設定
            </h2>

            <div class="form-group">
              <div class="checkbox-group">
                <input type="checkbox" id="registerAgreeTerms" required>
                <label for="registerAgreeTerms">我已閱讀並同意隱私權政策 <span class="required">*</span></label>
              </div>
            </div>

            <div class="form-group">
              <div class="checkbox-group">
                <input type="checkbox" id="registerEmailNotif" checked>
                <label for="registerEmailNotif">接收電子郵件通知</label>
              </div>
            </div>
          </div>

          <!-- Step 4 -->
          <div class="form-step" data-step="4">
            <h2 style="margin-bottom: 1.5rem; color: var(--primary-color);">
              <i class="fas fa-check-circle"></i> 確認資料
            </h2>

            <div class="summary-section">
              <h3>基本資料</h3>
              <div class="summary-item">
                <span class="summary-label">姓名</span>
                <span class="summary-value" id="registerSummaryName"></span>
              </div>
              <div class="summary-item">
                <span class="summary-label">電子郵件</span>
                <span class="summary-value" id="registerSummaryEmail"></span>
              </div>
            </div>

            <div class="alert alert-success" style="display: none;" id="registerSuccessMessage">
              <i class="fas fa-check-circle"></i> 註冊成功！我們已發送驗證郵件到您的信箱。
            </div>
          </div>

          <div class="form-actions">
            <button type="button" class="btn btn-secondary" id="registerPrevBtn" onclick="registerPreviousStep()" style="display: none;">
              <i class="fas fa-arrow-left"></i> 上一步
            </button>
            <button type="button" class="btn btn-primary" id="registerNextBtn" onclick="registerNextStep()">
              下一步 <i class="fas fa-arrow-right"></i>
            </button>
            <button type="submit" class="btn btn-primary" id="registerSubmitBtn" style="display: none;">
              <i class="fas fa-check"></i> 送出註冊
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- ==================== LOGIN PAGE ==================== -->
  <div id="loginPage" class="page-view register-page">
    <div class="register-container" style="max-width: 500px;">
      <div class="register-header">
        <h1><i class="fas fa-sign-in-alt"></i> 會員登入</h1>
        <p>登入您的帳號</p>
      </div>

      <div class="register-body">
        <form onsubmit="handleLogin(event)">
          <div class="form-group">
            <label>電子郵件</label>
            <input type="email" id="loginEmail" required placeholder="example@email.com">
          </div>

          <div class="form-group">
            <label>密碼</label>
            <input type="password" id="loginPassword" required placeholder="請輸入密碼">
          </div>

          <button type="submit" class="btn btn-primary" style="width: 100%; margin-bottom: 1rem;">
            <i class="fas fa-sign-in-alt"></i> 登入
          </button>

          <p style="text-align: center; color: #666;">
            還不是會員？ <a onclick="navigateTo('register')" style="color: var(--primary-color); cursor: pointer;">立即註冊</a>
          </p>
        </form>
      </div>
    </div>
  </div>

  <script>
    // ==================== GLOBAL STATE ====================
    let currentUser = null;
    let currentView = 'home';
    let registerCurrentStep = 1;
    const registerTotalSteps = 4;

    // ==================== NAVIGATION ====================
    function navigateTo(page) {
      // Hide all pages
      document.querySelectorAll('.page-view').forEach(view => {
        view.classList.remove('active');
      });

      // Show selected page
      const pageId = page + 'Page';
      const pageElement = document.getElementById(pageId);
      if (pageElement) {
        pageElement.classList.add('active');
        currentView = page;

        // Load page data
        switch(page) {
          case 'home':
            loadHomeData();
            break;
          case 'member':
            loadMemberData();
            break;
          case 'admin':
            loadAdminData();
            break;
          case 'activities':
            loadActivitiesData();
            break;
          case 'register':
            resetRegisterForm();
            break;
        }

        // Scroll to top
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }

    // ==================== HOME PAGE ====================
    function loadHomeData() {
      // Animate numbers
      setTimeout(() => {
        animateNumber('memberCount', 1250);
        animateNumber('activityCount', 156);
        animateNumber('participantCount', 3420);
      }, 500);
    }

    function animateNumber(elementId, target) {
      const element = document.getElementById(elementId);
      let current = 0;
      const increment = target / 50;
      const timer = setInterval(() => {
        current += increment;
        if (current >= target) {
          element.textContent = target;
          clearInterval(timer);
        } else {
          element.textContent = Math.floor(current);
        }
      }, 30);
    }

    function toggleMobileMenu() {
      document.getElementById('navMenu').classList.toggle('active');
    }

    // ==================== MEMBER PAGE ====================
    function loadMemberData() {
      updateMemberDate();
      loadMemberActivities();
    }

    function updateMemberDate() {
      const now = new Date();
      const options = { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' };
      const dateElement = document.getElementById('memberCurrentDate');
      if (dateElement) {
        dateElement.textContent = now.toLocaleDateString('zh-TW', options);
      }
    }

    function loadMemberActivities() {
      const container = document.getElementById('memberUpcomingActivityList');
      if (!container) return;

      setTimeout(() => {
        const activities = [
          { id: 1, title: '帕金森病友健康講座', date: '2024-11-15', time: '14:00', location: '台北市中正區' },
          { id: 2, title: '復健運動課程', date: '2024-11-20', time: '10:00', location: '新北市板橋區' }
        ];

        container.innerHTML = activities.map(activity => {
          const date = new Date(activity.date);
          return `
            <div class="activity-item">
              <div class="activity-date">
                <div class="day">${date.getDate()}</div>
                <div class="month">${date.getMonth() + 1}月</div>
              </div>
              <div class="activity-info">
                <h3>${activity.title}</h3>
                <div class="activity-meta">
                  <span><i class="fas fa-clock"></i> ${activity.time}</span>
                  <span><i class="fas fa-map-marker-alt"></i> ${activity.location}</span>
                </div>
                <span class="activity-status registered">已報名</span>
              </div>
              <div class="activity-actions">
                <button class="btn btn-primary btn-sm"><i class="fas fa-eye"></i> 查看</button>
              </div>
            </div>
          `;
        }).join('');
      }, 1000);
    }

    function showMemberSection(section) {
      document.querySelectorAll('.member-section').forEach(s => s.style.display = 'none');
      document.querySelectorAll('#memberSidebar .sidebar-menu a').forEach(a => a.classList.remove('active'));
      
      const sectionId = 'member' + section.charAt(0).toUpperCase() + section.slice(1).replace('-', '');
      const sectionElement = document.getElementById(sectionId);
      if (sectionElement) {
        sectionElement.style.display = 'block';
      }
      
      event.target.closest('a').classList.add('active');
    }

    function toggleSidebar() {
      const sidebar = document.getElementById('memberSidebar') || document.getElementById('adminSidebar');
      if (sidebar) {
        sidebar.classList.toggle('active');
      }
    }

    function toggleUserMenu() {
      alert('用戶選單功能');
    }

    // ==================== ADMIN PAGE ====================
    function loadAdminData() {
      // Load admin dashboard data
    }

    function showAdminSection(section) {
      document.querySelectorAll('.admin-section').forEach(s => s.style.display = 'none');
      document.querySelectorAll('#adminSidebar .sidebar-menu a').forEach(a => a.classList.remove('active'));
      
      const sectionId = 'admin' + section.charAt(0).toUpperCase() + section.slice(1);
      const sectionElement = document.getElementById(sectionId);
      if (sectionElement) {
        sectionElement.style.display = 'block';
      }
      
      event.target.closest('a').classList.add('active');
    }

    // ==================== ACTIVITIES PAGE ====================
    function loadActivitiesData() {
      const container = document.getElementById('activitiesGrid');
      if (!container) return;

      container.innerHTML = '<div class="loading"><div class="spinner"></div></div>';

      setTimeout(() => {
        const activities = [
          { id: 1, title: '帕金森病友健康講座', category: '健康講座', date: '2024-11-15', time: '14:00', location: '台北市中正區', participants: 35, max: 50 },
          { id: 2, title: '復健運動課程', category: '復健課程', date: '2024-11-20', time: '10:00', location: '新北市板橋區', participants: 18, max: 20 },
          { id: 3, title: '病友交流茶會', category: '社交活動', date: '2024-11-25', time: '15:00', location: '台北市大安區', participants: 25, max: 40 }
        ];

        container.innerHTML = activities.map(activity => {
          const percentage = (activity.participants / activity.max) * 100;
          return `
            <div class="activity-card">
              <div class="activity-image"></div>
              <div class="activity-content">
                <span class="activity-category">${activity.category}</span>
                <h3 class="activity-title">${activity.title}</h3>
                <div class="activity-meta">
                  <div class="activity-meta-item">
                    <i class="fas fa-calendar"></i>
                    <span>${activity.date}</span>
                  </div>
                  <div class="activity-meta-item">
                    <i class="fas fa-clock"></i>
                    <span>${activity.time}</span>
                  </div>
                  <div class="activity-meta-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>${activity.location}</span>
                  </div>
                </div>
                <div class="activity-footer">
                  <div class="participants-info">
                    <span>${activity.participants}/${activity.max}</span>
                    <div class="progress-bar">
                      <div class="progress-fill" style="width: ${percentage}%"></div>
                    </div>
                  </div>
                  <button class="btn btn-primary btn-sm" onclick="alert('報名活動')">
                    立即報名
                  </button>
                </div>
              </div>
            </div>
          `;
        }).join('');
      }, 1000);
    }

    // ==================== REGISTER PAGE ====================
    function registerNextStep() {
      if (!validateRegisterStep(registerCurrentStep)) {
        return;
      }

      if (registerCurrentStep < registerTotalSteps) {
        document.querySelector(`.form-step[data-step="${registerCurrentStep}"]`).classList.remove('active');
        document.querySelector(`.progress-step[data-step="${registerCurrentStep}"]`).classList.add('completed');
        
        registerCurrentStep++;
        document.querySelector(`.form-step[data-step="${registerCurrentStep}"]`).classList.add('active');
        document.querySelector(`.progress-step[data-step="${registerCurrentStep}"]`).classList.add('active');
        
        updateRegisterProgressBar();
        updateRegisterButtons();
        
        if (registerCurrentStep === registerTotalSteps) {
          showRegisterSummary();
        }
      }
    }

    function registerPreviousStep() {
      if (registerCurrentStep > 1) {
        document.querySelector(`.form-step[data-step="${registerCurrentStep}"]`).classList.remove('active');
        document.querySelector(`.progress-step[data-step="${registerCurrentStep}"]`).classList.remove('active');
        
        registerCurrentStep--;
        document.querySelector(`.form-step[data-step="${registerCurrentStep}"]`).classList.add('active');
        document.querySelector(`.progress-step[data-step="${registerCurrentStep}"]`).classList.remove('completed');
        
        updateRegisterProgressBar();
        updateRegisterButtons();
      }
    }

    function updateRegisterProgressBar() {
      const progress = ((registerCurrentStep - 1) / (registerTotalSteps - 1)) * 100;
      document.getElementById('registerProgressBarFill').style.width = progress + '%';
    }

    function updateRegisterButtons() {
      const prevBtn = document.getElementById('registerPrevBtn');
      const nextBtn = document.getElementById('registerNextBtn');
      const submitBtn = document.getElementById('registerSubmitBtn');

      prevBtn.style.display = registerCurrentStep === 1 ? 'none' : 'block';
      nextBtn.style.display = registerCurrentStep === registerTotalSteps ? 'none' : 'block';
      submitBtn.style.display = registerCurrentStep === registerTotalSteps ? 'block' : 'none';
    }

    function validateRegisterStep(step) {
      const currentStepElement = document.querySelector(`.form-step[data-step="${step}"]`);
      const requiredInputs = currentStepElement.querySelectorAll('[required]');
      let isValid = true;

      currentStepElement.querySelectorAll('.form-group').forEach(group => {
        group.classList.remove('error');
      });

      requiredInputs.forEach(input => {
        const formGroup = input.closest('.form-group');
        if (input.type === 'checkbox') {
          if (!input.checked) {
            formGroup.classList.add('error');
            isValid = false;
          }
        } else if (!input.value.trim()) {
          formGroup.classList.add('error');
          isValid = false;
        }
      });

      return isValid;
    }

    function showRegisterSummary() {
      document.getElementById('registerSummaryName').textContent = document.getElementById('registerName').value;
      document.getElementById('registerSummaryEmail').textContent = document.getElementById('registerEmail').value;
    }

    function resetRegisterForm() {
      registerCurrentStep = 1;
      document.getElementById('registerForm').reset();
      document.querySelectorAll('.form-step').forEach(step => step.classList.remove('active'));
      document.querySelectorAll('.progress-step').forEach(step => {
        step.classList.remove('active', 'completed');
      });
      document.querySelector('.form-step[data-step="1"]').classList.add('active');
      document.querySelector('.progress-step[data-step="1"]').classList.add('active');
      updateRegisterProgressBar();
      updateRegisterButtons();
    }

    document.getElementById('registerForm').addEventListener('submit', function(e) {
      e.preventDefault();
      document.getElementById('loadingOverlay').classList.add('active');
      
      setTimeout(() => {
        document.getElementById('loadingOverlay').classList.remove('active');
        document.getElementById('registerSuccessMessage').style.display = 'block';
        document.getElementById('registerSubmitBtn').disabled = true;
        
        setTimeout(() => {
          navigateTo('login');
        }, 3000);
      }, 2000);
    });

    // ==================== LOGIN ====================
    function handleLogin(event) {
      event.preventDefault();
      document.getElementById('loadingOverlay').classList.add('active');
      
      setTimeout(() => {
        document.getElementById('loadingOverlay').classList.remove('active');
        alert('登入成功！');
        navigateTo('member');
      }, 1500);
    }

    function logout() {
      if (confirm('確定要登出嗎？')) {
        navigateTo('home');
      }
    }

    // ==================== INITIALIZE ====================
    document.addEventListener('DOMContentLoaded', function() {
      loadHomeData();
    });
  </script>
</body>
</html>

